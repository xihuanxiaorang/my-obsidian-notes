---
tags:
  - Algorithm
  - Sort
refrence: 
  - zotero://open-pdf/library/items/XSHZSFBR?page=187
  - zotero://open-pdf/library/items/F5LWMAGK?page=234
repository: https://github.com/xihuanxiaorang/java-study/blob/main/algorithm-study/sorting-algorithm/src/main/java/fun/xiaorang/study/algorithm/sorting/BubbleSort.java
create_time: 2025-01-16 22:33
update_time: 2025/01/19 19:05
---

å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œé€šè¿‡**è¿ç»­åœ°æ¯”è¾ƒä¸äº¤æ¢ç›¸é‚»å…ƒç´ **ï¼Œä½¿åºåˆ—é€æ­¥æœ‰åºã€‚

## åŸç†

åœ¨æ¯æ¬¡éå†ä¸­ï¼Œæ¯”è¾ƒç›¸é‚»å…ƒç´ å¹¶äº¤æ¢é¡ºåºé”™è¯¯çš„å…ƒç´ ã€‚è¾ƒå¤§çš„å…ƒç´ é€æ¸"ä¸‹æ²‰"åˆ°æœ«å°¾ï¼Œè¾ƒå°çš„å…ƒç´ "ä¸Šæµ®"åˆ°å‰ç«¯ï¼Œç›´è‡³æ•´ä¸ªåºåˆ—æ’åºå®Œæˆã€‚

## ç®—æ³•æ­¥éª¤

ä»¥å‡åºæ’åˆ—ä¸ºä¾‹ï¼Œå†’æ³¡æ’åºçš„æ­¥éª¤å¦‚ä¸‹ï¼š

1. æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œè‹¥å‰è€…å¤§äºåè€…ï¼Œåˆ™äº¤æ¢ğŸ”„ã€‚
2. éå†åºåˆ—ï¼Œå°†æœªæ’åºéƒ¨åˆ†çš„æœ€å¤§å…ƒç´ ç§»è‡³æœ«å°¾ã€‚
3. æ¯æ¬¡éå†åï¼Œå¿½ç•¥å·²æ’åºéƒ¨åˆ†ã€‚
4. é‡å¤æ­¥éª¤ 1~3ï¼Œç›´è‡³åºåˆ—å®Œå…¨æœ‰åºã€‚

![](https://img.xiaorang.fun/202501171824636.gif)

## ç‰¹ç‚¹

- **æ—¶é—´å¤æ‚åº¦**ï¼š
    - å¹³å‡å’Œæœ€åæƒ…å†µï¼šO(n<sup>2</sup>)
    - æœ€å¥½æƒ…å†µï¼šO(n)ï¼ˆå½“åºåˆ—æ¥è¿‘æœ‰åºæ—¶ï¼‰ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ï¼Œä¸ºåŸåœ°æ’åºç®—æ³•ã€‚
- **ç¨³å®šæ€§**ï¼šç¨³å®šã€‚

## ä»£ç å®ç°

```java
public class BubbleSort {
  public static void main(String[] args) {
    int[] nums = new int[]{3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48};
    System.out.println("æ’åºå‰ï¼š" + Arrays.toString(nums));
    bubbleSort(nums);
    System.out.println("æ’åºåï¼š" + Arrays.toString(nums));
  }

  /**
   * å†’æ³¡æ’åº
   *
   * @param arr å¾…æ’åºæ•°ç»„
   */
  private static void bubbleSort(int[] arr) {
    // å¤–å¾ªç¯ï¼šæœªæ’åºåŒºé—´ä¸º [0, i]
    for (int i = arr.length - 1; i > 0; i--) {
      // å†…å¾ªç¯ï¼šå°†æœªæ’åºåŒºé—´ [0, i] ä¸­çš„æœ€å¤§å…ƒç´ äº¤æ¢è‡³è¯¥åŒºé—´çš„æœ€å³ç«¯
      for (int j = 0; j < i; j++) {
        // å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢ä½ç½®
        if (arr[j] > arr[j + 1]) {
          int tmp = arr[j];
          arr[j] = arr[j + 1];
          arr[j + 1] = tmp;
        }
      }
    }
  }
}
```

## ä¼˜åŒ–ç­–ç•¥

### æå‰ç»“æŸåˆ¤æ–­

é€šè¿‡å¼•å…¥æ ‡å¿—å˜é‡ `swapped`ï¼Œåˆ¤æ–­å½“å‰è½®æ¬¡æ˜¯å¦å‘ç”Ÿäº¤æ¢ã€‚å½“æŸè½®éå†ä¸­æœªå‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œè¯´æ˜åºåˆ—å·²ç»æœ‰åºï¼Œå¯æå‰ç»“æŸæ’åºï¼Œå‡å°‘ä¸å¿…è¦çš„éå†ã€‚

```java hl:10,19,23-26
/**
 * å†’æ³¡æ’åº
 *
 * @param arr å¾…æ’åºæ•°ç»„
 */
private static void bubbleSort(int[] arr) {
  // å¤–å¾ªç¯ï¼šæœªæ’åºåŒºé—´ä¸º [0, i]
  for (int i = arr.length - 1; i > 0; i--) {
    // ç”¨äºæ ‡è®°æœ¬è½®æ˜¯å¦å‘ç”Ÿå…ƒç´ äº¤æ¢
    boolean swapped = false;
    // å†…å¾ªç¯ï¼šå°†æœªæ’åºåŒºé—´ [0, i] ä¸­çš„æœ€å¤§å…ƒç´ äº¤æ¢è‡³è¯¥åŒºé—´çš„æœ€å³ç«¯
    for (int j = 0; j < i; j++) {
      // å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢ä½ç½®
      if (arr[j] > arr[j + 1]) {
        int tmp = arr[j];
        arr[j] = arr[j + 1];
        arr[j + 1] = tmp;
        // æ ‡è®°å‘ç”Ÿäº†äº¤æ¢
        swapped = true;
      }
    }
    // å¦‚æœæœ¬è½®æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œç›´æ¥é€€å‡ºå¾ªç¯
    if (!swapped) {
      System.out.println("ç¬¬ " + (arr.length - i) + " è½®æ²¡æœ‰å‘ç”Ÿå…ƒç´ äº¤æ¢ï¼Œæ’åºæå‰ç»“æŸï¼");
      break;
    }
    System.out.println("ç¬¬" + (arr.length - i) + "è½®æ’åºåï¼š" + Arrays.toString(arr));
  }
}
```

### è®°å½•æœ€åä¸€æ¬¡äº¤æ¢ä½ç½®

é€šè¿‡è®°å½•æ¯è½®æœ€åä¸€æ¬¡å‘ç”Ÿäº¤æ¢çš„ä½ç½®ï¼Œç¼©å°æ— åºéƒ¨åˆ†çš„èŒƒå›´ã€‚è¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæé«˜ç®—æ³•æ•ˆç‡ã€‚

#CodeSnippet

```java hl:8,10,25,34
/**
 * å†’æ³¡æ’åº
 *
 * @param arr å¾…æ’åºæ•°ç»„
 */
private static void bubbleSort(int[] arr) {
  // ç”¨äºæ ‡è®°æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®
  int lastExchangeIndex = 0;
  // ç”¨äºæ ‡è®°æ— åºæ•°åˆ—çš„è¾¹ç•Œï¼Œæ¯è½®åªéœ€è¦æ¯”è¾ƒåˆ°è¿™é‡Œå³å¯é€€å‡º
  int sortBorder = arr.length - 1;
  // å¤–å¾ªç¯ï¼šæ§åˆ¶æ¯”è¾ƒçš„è½®æ•°
  for (int i = arr.length - 1; i > 0; i--) {
    // ç”¨äºæ ‡è®°æœ¬è½®æ˜¯å¦å‘ç”Ÿå…ƒç´ äº¤æ¢
    boolean swapped = false;
    // å†…å¾ªç¯ï¼šå°†æœªæ’åºåŒºé—´ [0, sortBorder] ä¸­çš„æœ€å¤§å…ƒç´ äº¤æ¢è‡³è¯¥åŒºé—´çš„æœ€å³ç«¯
    for (int j = 0; j < sortBorder; j++) {
      // å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢ä½ç½®
      if (arr[j] > arr[j + 1]) {
        int tmp = arr[j];
        arr[j] = arr[j + 1];
        arr[j + 1] = tmp;
        // æ ‡è®°å‘ç”Ÿäº†äº¤æ¢
        swapped = true;
        // æ›´æ–°æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®
        lastExchangeIndex = j;
      }
    }
    // å¦‚æœæœ¬è½®æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œç›´æ¥é€€å‡ºå¾ªç¯
    if (!swapped) {
      System.out.println("ç¬¬ " + (arr.length - i) + " è½®æ²¡æœ‰å‘ç”Ÿå…ƒç´ äº¤æ¢ï¼Œæ’åºæå‰ç»“æŸï¼");
      break;
    }
    // æ›´æ–°æ— åºæ•°åˆ—çš„è¾¹ç•Œ
    sortBorder = lastExchangeIndex;
    System.out.println("ç¬¬" + (arr.length - i) + "è½®æ’åºåï¼š" + Arrays.toString(arr));
  }
}
```
