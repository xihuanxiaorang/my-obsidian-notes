---
tags:
  - Java
version: JDK8
refrence_url:
  - https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html
create_time: 2025/07/23 22:39
update_time: 2025/07/27 23:22
---

## å®šä¹‰

Java å…è®¸**åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰å¦ä¸€ä¸ªç±»**ï¼Œè¿™æ ·çš„ç±»è¢«ç§°ä¸º**å†…éƒ¨ç±»**ï¼ˆInner Classï¼‰ï¼Œä¾‹å¦‚ï¼š

```java hl:4,8
class OuterClass {  
  // ...

  class InnerClass {  
    // ...  
  }

  static class StaticInnerClass {
    // ...
  }
}
```

## ä¸ºä»€ä¹ˆä½¿ç”¨å†…éƒ¨ç±»ï¼Ÿ

ä½¿ç”¨å†…éƒ¨ç±»çš„ä¸»è¦åŸå› åŒ…æ‹¬ï¼š

- é€»è¾‘åˆ†ç»„ï¼šå½“æŸä¸ªç±»ä»…åœ¨å¦ä¸€ä¸ªç±»ä¸­ä½¿ç”¨æ—¶ï¼Œå°†å…¶ä½œä¸ºå†…éƒ¨ç±»å®šä¹‰ï¼Œæœ‰åŠ©äºå°†ç›¸å…³é€»è¾‘é›†ä¸­ç®¡ç†ï¼Œä¿æŒåŒ…ç»“æ„ç®€æ´ã€‚
- å¢å¼ºå°è£…æ€§ï¼šå†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆåŒ…æ‹¬ç§æœ‰æˆå‘˜ï¼‰ï¼Œä»è€Œåœ¨ä¸æš´éœ²å®ç°ç»†èŠ‚çš„å‰æä¸‹å®ç°æ›´ç´§å¯†çš„å°è£…ã€‚åŒæ—¶ï¼Œå†…éƒ¨ç±»æœ¬èº«ä¹Ÿå¯å¯¹å¤–éšè—ï¼Œé™åˆ¶å…¶ä½œç”¨èŒƒå›´ã€‚
- æå‡å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ï¼šå°†ä»…æœåŠ¡äºå¤–éƒ¨ç±»çš„å°å‹ç±»å®šä¹‰åœ¨å…¶å†…éƒ¨ï¼Œå¯ä½¿ä»£ç ç»“æ„æ›´ç´§å‡‘ã€å…³ç³»æ›´æ¸…æ™°ï¼Œä¾¿äºç†è§£å’Œç»´æŠ¤ã€‚

ç¤ºä¾‹ï¼šå¼•æ“ä½œä¸ºè½¦çš„ä¸€éƒ¨åˆ†è€Œå­˜åœ¨ã€‚

```java hl:3
public class Car {
  // ...
  public class Engine {
    // ...
  }
}
```

## åˆ†ç±»

### æˆå‘˜å†…éƒ¨ç±»

æˆå‘˜å†…éƒ¨ç±»ï¼ˆMember Inner Classï¼‰æ˜¯å®šä¹‰åœ¨å¤–éƒ¨ç±»å†…éƒ¨ã€æ–¹æ³•ä½“å¤–éƒ¨çš„éé™æ€ç±»ï¼Œä½œä¸ºå¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œå®ƒå¿…é¡»ä¾é™„äºå¤–éƒ¨ç±»çš„å…·ä½“å®ä¾‹ï¼Œä¸èƒ½ç‹¬ç«‹å­˜åœ¨ã€‚

ç‰¹æ€§ï¼š
- **è®¿é—®æ–¹å¼**ï¼š
	- æˆå‘˜å†…éƒ¨ç±» â†’ å¤–éƒ¨ç±»ï¼šå¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ã€‚
	- å¤–éƒ¨ç±» â†’ æˆå‘˜å†…éƒ¨ç±»ï¼šéœ€å…ˆåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å®ä¾‹ï¼Œå†é€šè¿‡è¯¥å®ä¾‹è¿›è¡Œè®¿é—®ã€‚
	- å¤–éƒ¨å…¶ä»–ç±» â†’ æˆå‘˜å†…éƒ¨ç±»ï¼š[[#^a4e722|éœ€å…ˆåˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å®ä¾‹]]ï¼Œå†é€šè¿‡è¯¥å®ä¾‹è¿›è¡Œè®¿é—®ã€‚
- **è®¿é—®ä¿®é¥°ç¬¦**ï¼šå¯ä»¥ä½¿ç”¨ä»»æ„è®¿é—®ä¿®é¥°ç¬¦ï¼ˆ`private`ã€`protected`ã€`public` æˆ– `default`ï¼‰è¿›è¡Œä¿®é¥°ï¼›
- **é™æ€æˆå‘˜é™åˆ¶**ï¼šä¸èƒ½å£°æ˜é™æ€æˆå‘˜ï¼ˆå¦‚ï¼šé™æ€å˜é‡ã€é™æ€æ–¹æ³•ã€[[ä»£ç å—#é™æ€ä»£ç å—|é™æ€ä»£ç å—]]ã€æˆå‘˜æ¥å£ï¼‰ï¼Œä½†å¸¸é‡é™¤å¤–ï¼›
	- å› ä¸ºé™æ€æˆå‘˜å±äºç±»æœ¬èº«ï¼Œç‹¬ç«‹äºä»»ä½•å®ä¾‹ï¼Œè€Œæˆå‘˜å†…éƒ¨ç±»ä¾èµ–äºå¤–éƒ¨ç±»çš„å…·ä½“å®ä¾‹è€Œå­˜åœ¨ã€‚
- **ä½œç”¨åŸŸ**ï¼šä¸å¤–éƒ¨ç±»çš„å…¶ä»–æˆå‘˜ä¸€æ ·ï¼Œæˆå‘˜å†…éƒ¨ç±»çš„ä½œç”¨åŸŸèŒƒå›´ä¸ºæ•´ä¸ªå¤–éƒ¨ç±»ä½“ã€‚
- **å˜é‡é‡åå¤„ç†**ï¼š[[#^1fab9c]]
	- éµå¾ªå°±è¿‘åŸåˆ™ï¼Œä¼˜å…ˆè®¿é—®å½“å‰ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚
	- è‹¥è®¿é—®æˆå‘˜å†…éƒ¨ç±»è‡ªèº«çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `this.å˜é‡å` æ˜ç¡®æŒ‡å®šï¼›
	- è‹¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `OuterClass.this.å˜é‡å` æ˜ç¡®æŒ‡å®šã€‚

åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å®ä¾‹ï¼š

```java
// åˆ›å»ºå¤–éƒ¨ç±»å®ä¾‹  
OuterClass outerInstance = new OuterClass();  
// åŸºäºå¤–éƒ¨ç±»å®ä¾‹ï¼Œåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å®ä¾‹
OuterClass.InnerClass innerInstance = outerInstance.new InnerClass();				
```

^a4e722

ç¤ºä¾‹ 1ï¼š[DataStructure.java](https://docs.oracle.com/javase/tutorial/java/javaOO/examples/DataStructure.java)ï¼Œæ‰“å°æ•°ç»„ä¸­å¶æ•°ç´¢å¼•ä½ç½®çš„å…ƒç´ ã€‚

```java hl:34
public class DataStructure {  
  // Create an array  
  private final static int SIZE = 15;  
  private final int[] arrayOfInts = new int[SIZE];  

  public DataStructure() {  
    // fill the array with ascending integer values  
    for (int i = 0; i < SIZE; i++) {  
      arrayOfInts[i] = i;  
    }  
  }  

  public void printEven() {  
    // Print out values of even indices of the array  
    DataStructureIterator iterator = this.new EvenIterator();  
    while (iterator.hasNext()) {  
      System.out.print(iterator.next() + " ");  
    }  
    System.out.println();  
  }  

  public static void main(String[] s) {  
    // Fill the array with integer values and print out only  
    // values of even indices  
    DataStructure ds = new DataStructure();  
    ds.printEven();  
  }  

  // Inner class implements the DataStructureIterator interface,  
  // which extends the Iterator<Integer> interface  
  interface DataStructureIterator extends java.util.Iterator<Integer> {  
  }  

  private class EvenIterator implements DataStructureIterator {  
    // Start stepping through the array from the beginning  
    private int nextIndex = 0;  

    @Override  
    public boolean hasNext() {  
      // Check if the current element is the last in the array  
      return (nextIndex <= SIZE - 1);  
    }  

    @Override  
    public Integer next() {  
      // Record a value of an even index of the array  
      Integer retValue = arrayOfInts[nextIndex];  
      // Get the next even element  
      nextIndex += 2;  
      return retValue;  
    }  
  }  
}
```

- å¤–éƒ¨ç±» `DataStructure`ï¼š
	- æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ–æ•°ç»„ï¼Œå¡«å……ä» 0 å¼€å§‹çš„è¿ç»­æ•´æ•°ï¼›
	- `printEven` æ–¹æ³•ï¼šç”¨äºæ‰“å°æ•°ç»„ä¸­å¶æ•°ç´¢å¼•ä½ç½®çš„å…ƒç´ ï¼Œå…·ä½“é€»è¾‘ç”±æˆå‘˜å†…éƒ¨ç±» `EvenIterator` å®ç°ã€‚
- æˆå‘˜å†…éƒ¨ç±» `EvenIterator`ï¼š
	- å®ç°äº† `DataStructureIterator` æ¥å£ï¼Œè¯¥æ¥å£ç»§æ‰¿è‡ª `Iterator<Integer>` è¿­ä»£å™¨æ¥å£ï¼›
	- å°è£…äº†éå†æ•°ç»„ä¸­å¶æ•°ç´¢å¼•ä½ç½®å…ƒç´ çš„è¿­ä»£é€»è¾‘ã€‚

è¾“å‡ºç»“æœï¼š

```text
0 2 4 6 8 10 12 14
```

ç¤ºä¾‹ 2ï¼šæˆå‘˜å†…éƒ¨ç±»å˜é‡é®è”½

```java hl:5,16,18
public class MemberVariableShadowExample {
  public int x = 0;

  public static void main(String... args) {
    final InnerClass innerInstance = new MemberVariableShadowExample().new InnerClass();
    innerInstance.printValue(23);
  }

  class InnerClass {
    public int x = 1;

    void printValue(int x) {
      // å±€éƒ¨å˜é‡
      System.out.println("LocalVariable.x = " + x);
      // æˆå‘˜å†…éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
      System.out.println("MemberInnerClass.x = " + this.x);
      // å¤–éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
      System.out.println("OuterClass.x = " + MemberVariableShadowExample.this.x);
    }
  }
}
```

^1fab9c

è¾“å‡ºç»“æœï¼š

```text
LocalVariable.x = 23
MemberInnerClass.x = 1
OuterClass.x = 0
```

### é™æ€å†…éƒ¨ç±»

é™æ€å†…éƒ¨ç±»ï¼ˆStatic Inner Classï¼‰æ˜¯å®šä¹‰åœ¨å¤–éƒ¨ç±»å†…éƒ¨ã€æ–¹æ³•ä½“å¤–éƒ¨çš„é™æ€ç±»ï¼Œä½œä¸ºå¤–éƒ¨ç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜ã€‚

ç‰¹æ€§ï¼š
- **è®¿é—®æ–¹å¼**ï¼š
	- é™æ€å†…éƒ¨ç±» â†’ å¤–éƒ¨ç±»ï¼š
		- é™æ€æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼šå¯ç›´æ¥è®¿é—®ï¼›
		- éé™æ€æˆå‘˜ï¼šæ— æ³•ç›´æ¥è®¿é—®ï¼Œéœ€å€ŸåŠ©å¤–éƒ¨ç±»å®ä¾‹ã€‚
	- å¤–éƒ¨ç±» â†’ é™æ€å†…éƒ¨ç±»ï¼š
		- é™æ€æˆå‘˜ï¼ˆå±æ€§æˆ–æ–¹æ³•ï¼‰ï¼šå¯é€šè¿‡é™æ€å†…éƒ¨ç±»ç±»åç›´æ¥è®¿é—®ï¼›
		- éé™æ€æˆå‘˜ï¼šéœ€å…ˆ[[#^72b940|åˆ›å»ºé™æ€å†…éƒ¨ç±»å®ä¾‹]]ï¼Œå†é€šè¿‡è¯¥å®ä¾‹è¿›è¡Œè®¿é—®ã€‚
	- å¤–éƒ¨å…¶ä»–ç±» â†’ é™æ€å†…éƒ¨ç±»ï¼š
		- é™æ€æˆå‘˜ï¼ˆå±æ€§æˆ–æ–¹æ³•ï¼‰ï¼šå¯é€šè¿‡é™æ€å†…éƒ¨ç±»ç±»åç›´æ¥è®¿é—®ï¼›
		- éé™æ€æˆå‘˜ï¼šå¯ä»¥ç›´æ¥[[#^72b940|åˆ›å»ºé™æ€å†…éƒ¨ç±»å®ä¾‹]]ï¼Œç„¶åå†é€šè¿‡è¯¥å®ä¾‹è¿›è¡Œè®¿é—®ï¼ˆåŒºåˆ«äº[[#æˆå‘˜å†…éƒ¨ç±»]]ï¼Œä¸éœ€è¦å…ˆåˆ›å»ºå¤–éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡ï¼‰ã€‚
- **è®¿é—®ä¿®é¥°ç¬¦**ï¼šå¯ä»¥ä½¿ç”¨ä»»æ„è®¿é—®ä¿®é¥°ç¬¦ï¼ˆ`private`ã€`protected`ã€`public` æˆ– `default`ï¼‰è¿›è¡Œä¿®é¥°ï¼›
- **ä½œç”¨åŸŸ**ï¼šä¸å¤–éƒ¨ç±»çš„å…¶ä»–æˆå‘˜ä¸€æ ·ï¼Œé™æ€å†…éƒ¨ç±»çš„ä½œç”¨åŸŸèŒƒå›´ä¸ºæ•´ä¸ªå¤–éƒ¨ç±»ä½“ã€‚
- **å˜é‡é‡åå¤„ç†**ï¼š
	- éµå¾ªå°±è¿‘åŸåˆ™ï¼Œä¼˜å…ˆè®¿é—®å½“å‰ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚
	- è‹¥è®¿é—®é™æ€å†…éƒ¨ç±»è‡ªèº«çš„åŒåé™æ€æˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `StaticInnerClass.å˜é‡å` æ˜ç¡®æŒ‡å®šï¼›
	- è‹¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„åŒåé™æ€æˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `OuterClass.å˜é‡å` æ˜ç¡®æŒ‡å®šã€‚

åˆ›å»ºé™æ€å†…éƒ¨ç±»å®ä¾‹ï¼š

```java
// å®ä¾‹åŒ–é™æ€å†…éƒ¨ç±»çš„æ ‡å‡†æ–¹å¼ï¼Œä¸é¡¶çº§ç±»å®ä¾‹åŒ–ç›¸åŒ
OuterClass.StaticInnerClass instance = new OuterClass.StaticInnerClass();

// è‹¥åœ¨ OuterClass å†…éƒ¨ä½¿ç”¨ï¼Œå¯çœç•¥ç±»åå‰ç¼€
StaticInnerClass instance = new StaticInnerClass();
```

^72b940

ç¤ºä¾‹ 1ï¼šé™æ€å†…éƒ¨ç±» vs æˆå‘˜å†…éƒ¨ç±» vs é¡¶çº§ç±»

```java hl:9,14,26,28,35-36
public class OuterClass {
  static String staticField = "Static outer field";
  String instanceField = "Instance outer field";

  public static void main(String[] args) {
    System.out.println("Member inner class:");
    System.out.println("-------------------");
    OuterClass outer = new OuterClass();
    InnerClass memberInner = outer.new InnerClass();
    memberInner.accessOuter();

    System.out.println("\nStatic inner class:");
    System.out.println("--------------------");
    StaticInnerClass staticInner = new StaticInnerClass();
    staticInner.accessOuter(outer);

    System.out.println("\nTop-level class:");
    System.out.println("----------------");
    TopLevelClass topLevel = new TopLevelClass();
    topLevel.accessOuter(outer);
  }

  static class StaticInnerClass {
    void accessOuter(OuterClass outer) {
      // ä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»éé™æ€æˆå‘˜ï¼Œéœ€è¦é€šè¿‡å®ä¾‹
      System.out.println(outer.instanceField);
      // å¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜
      System.out.println(staticField);
    }
  }

  class InnerClass {
    void accessOuter() {
      // å¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»æ‰€æœ‰æˆå‘˜
      System.out.println(instanceField);
      System.out.println(staticField);
    }
  }
}
```

```java hl:6-7
// é¡¶çº§ç±»ï¼ˆéåµŒå¥—ç±»ï¼‰
public class TopLevelClass {  
  void accessOuter(OuterClass outer) {  
    // ä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€æˆå‘˜  
    // System.out.println(OuterClass.instanceField); // ç¼–è¯‘é”™è¯¯  
    System.out.println(outer.instanceField);  
    System.out.println(OuterClass.staticField);  
  }}
```

è¾“å‡ºç»“æœï¼š

```text
Member inner class:
-------------------
Instance outer field
Static outer field

Static inner class:
--------------------
Instance outer field
Static outer field

Top-level class:
----------------
Instance outer field
Static outer field
```

ç¤ºä¾‹ 2ï¼šé™æ€å†…éƒ¨ç±»ä¸­çš„å˜é‡é®è”½

```java hl:5,16,18
public class StaticVariableShadowExample {
  static int x = 0;

  public static void main(String[] args) {
    final StaticInnerClass staticInnerInstance = new StaticInnerClass();
    staticInnerInstance.printValues(23);
  }

  static class StaticInnerClass {
    static int x = 1;

    void printValues(int x) {
      // å±€éƒ¨å˜é‡
      System.out.println("LocalVariable.x = " + x);
      // é™æ€å†…éƒ¨ç±»çš„åŒåé™æ€æˆå‘˜å˜é‡
      System.out.println("StaticInnerClass.x = " + StaticInnerClass.x);
      // å¤–éƒ¨ç±»çš„åŒåé™æ€æˆå‘˜å˜é‡
      System.out.println("OuterClass.x = " + StaticVariableShadowExample.x);
    }
  }
}
```

è¾“å‡ºç»“æœï¼š

```text
LocalVariable.x = 23
StaticInnerClass.x = 1
OuterClass.x = 0
```

### å±€éƒ¨å†…éƒ¨ç±»

å±€éƒ¨å†…éƒ¨ç±»ï¼ˆLocal Inner Classï¼‰æ˜¯å®šä¹‰åœ¨æ–¹æ³•ä½“ï¼ˆæˆ–æ„é€ å™¨ã€ä»£ç å—ï¼‰å†…éƒ¨çš„ç±»ï¼Œé€šå¸¸ç”¨äºå°è£…åªåœ¨è¯¥æ–¹æ³•ä¸­ä½¿ç”¨çš„é€»è¾‘ã€‚

ç‰¹æ€§ï¼š
- **è®¿é—®æ–¹å¼**ï¼š
	- å±€éƒ¨å†…éƒ¨ç±» â†’ å¤–éƒ¨ç±»ï¼š
		- å¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ã€‚
		- è‹¥å®šä¹‰åœ¨é™æ€æ–¹æ³•ä¸­ï¼Œåˆ™åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ã€‚
	- å±€éƒ¨å†…éƒ¨ç±» â†’ æ‰€åœ¨æ–¹æ³•çš„å±€éƒ¨å˜é‡å’Œå‚æ•°ï¼š
		- åªèƒ½è®¿é—® `final` æˆ–å®é™…ä¸Šæ˜¯ `final`ï¼ˆeffectively finalï¼‰çš„å˜é‡å’Œå‚æ•°ï¼›
		- "å®é™…ä¸Šæ˜¯ `final` çš„"æ˜¯æŒ‡ï¼šå˜é‡ä¸€æ—¦èµ‹å€¼åæœªè¢«ä¿®æ”¹ã€‚
	- å¤–éƒ¨ç±» â†’ å±€éƒ¨å†…éƒ¨ç±»ï¼šéœ€å…ˆåœ¨å…¶ä½œç”¨åŸŸèŒƒå›´ï¼ˆå³æ–¹æ³•ä½“ï¼‰ä¹‹å†…åˆ›å»ºå±€éƒ¨å†…éƒ¨ç±»å®ä¾‹ï¼Œå†é€šè¿‡è¯¥å®ä¾‹è¿›è¡Œè®¿é—®ã€‚
	- å¤–éƒ¨å…¶ä»–ç±» â†’ æˆå‘˜å†…éƒ¨ç±»ï¼šæ— æ³•è®¿é—®ï¼ˆå—é™äºä½œç”¨åŸŸï¼‰ã€‚
- **è®¿é—®ä¿®é¥°ç¬¦**ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦è¿›è¡Œä¿®é¥°ã€‚
- **é™æ€æˆå‘˜é™åˆ¶**ï¼šä¸èƒ½å£°æ˜é™æ€æˆå‘˜ï¼ˆå¦‚ï¼šé™æ€å˜é‡ã€é™æ€æ–¹æ³•ã€[[ä»£ç å—#é™æ€ä»£ç å—|é™æ€ä»£ç å—]]ã€æˆå‘˜æ¥å£ï¼‰ï¼Œä½†å¸¸é‡é™¤å¤–ï¼›
- **ä½œç”¨åŸŸ**ï¼šä»…é™äºå®šä¹‰å®ƒçš„æ–¹æ³•ï¼ˆæ„é€ å™¨ã€ä»£ç å—ï¼‰ä¸­ã€‚
- **å˜é‡é‡åå¤„ç†**ï¼š
	- éµå¾ªå°±è¿‘åŸåˆ™ï¼Œä¼˜å…ˆè®¿é—®å½“å‰ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚
	- è‹¥è®¿é—®å±€éƒ¨å†…éƒ¨ç±»è‡ªèº«çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `this.å˜é‡å` æ˜ç¡®æŒ‡å®šï¼›
	- è‹¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `OuterClass.this.å˜é‡å` æ˜ç¡®æŒ‡å®šã€‚

ç¤ºä¾‹ 1ï¼šLocalClassExample](https://docs.oracle.com/javase/tutorial/java/javaOO/examples/LocalClassExample.java)ï¼ŒéªŒè¯ç”µè¯å·ç çš„æœ‰æ•ˆæ€§ã€‚

```java hl:7,26-27
public class LocalClassExample {
  static String regularExpression = "[^0-9]";

  public static void validatePhoneNumber(String phoneNumber1, String phoneNumber2) {
    final int numberLength = 10;

    class PhoneNumber {
      String formattedPhoneNumber = null;

      PhoneNumber(String phoneNumber) {
        // ç§»é™¤éæ•°å­—å­—ç¬¦
        String currentNumber = phoneNumber.replaceAll(regularExpression, "");
        // åˆ¤æ–­æ˜¯å¦ä¸ºåˆæ³•é•¿åº¦
        if (currentNumber.length() == numberLength) {
          formattedPhoneNumber = currentNumber;
        } else {
          formattedPhoneNumber = null;
        }
      }

      public String getNumber() {
        return formattedPhoneNumber;
      }
    }

    PhoneNumber myNumber1 = new PhoneNumber(phoneNumber1);
    PhoneNumber myNumber2 = new PhoneNumber(phoneNumber2);

    if (myNumber1.getNumber() == null) {
      System.out.println("First number is invalid");
    } else {
      System.out.println("First number is " + myNumber1.getNumber());
    }
    if (myNumber2.getNumber() == null) {
      System.out.println("Second number is invalid");
    } else {
      System.out.println("Second number is " + myNumber2.getNumber());
    }
  }

  public static void main(String... args) {
    validatePhoneNumber("123-456-7890", "456-7890");
  }
}
```

è¾“å‡ºç»“æœï¼š

```text
First number is 1234567890  
Second number is invalid
```

ç¤ºä¾‹ 2ï¼šå±€éƒ¨å†…éƒ¨ç±»ä¸­çš„å˜é‡é®è”½

```java hl:6,13,15,20
public class LocalVariableShadowExample {
  public int x = 0;

  public void printValue(int x) {
    // å±€éƒ¨å˜é‡
    System.out.println("LocalVariable.x = " + x);

    class LocalInnerClass {
      final int x = 1;

      public void printValue() {
        // æˆå‘˜å†…éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
        System.out.println("LocalInnerClass.x = " + this.x);
        // å¤–éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
        System.out.println("OuterClass.x = " + LocalVariableShadowExample.this.x);
      }
    }

    // åˆ›å»ºå±€éƒ¨ç±»å®ä¾‹
    final LocalInnerClass localInnerClass = new LocalInnerClass();
    localInnerClass.printValue();
  }

  public static void main(String[] args) {
    new LocalVariableShadowExample().printValue(23);
  }
}
```

è¾“å‡ºç»“æœï¼š

```text
LocalVariable.x = 23
LocalInnerClass.x = 1
OuterClass.x = 0
```

### åŒ¿åå†…éƒ¨ç±»

åŒ¿åå†…éƒ¨ç±»ï¼ˆAnonymous Inner Classï¼‰å…¶å®æ˜¯æ²¡æœ‰åå­—çš„[[#å±€éƒ¨å†…éƒ¨ç±»]]ï¼Œå¸¸ç”¨äºä¸´æ—¶å®ç°æ¥å£æˆ–ç»§æ‰¿ç±»ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶å®šä¹‰ç±»çš„å…·ä½“è¡Œä¸ºã€‚

ç‰¹æ€§ï¼š
- **è¯­æ³•**ï¼š
	- åŒ¿åå†…éƒ¨ç±»åŸºäºæ¥å£æˆ–ç±»è¿›è¡Œ"å®ç°"æˆ–"ç»§æ‰¿"ã€‚
	- ä½¿ç”¨ `new æ¥å£å/åŸºç±»å() { â€¦ }` çš„è¯­æ³•å®šä¹‰ä¸€ä¸ªæ–°çš„å®ç°ç±»æˆ–å­ç±»ï¼Œå¹¶ç«‹å³åˆ›å»ºè¯¥ç±»çš„å®ä¾‹ã€‚
	- ç±»ä½“ä½äºèŠ±æ‹¬å· `{}` ä¸­ï¼Œæ˜¯ç±»çš„å”¯ä¸€ä¸”æœ€ç»ˆçš„å®šä¹‰ã€‚
- **è®¿é—®æ–¹å¼**ï¼š
	- åŒ¿åå†…éƒ¨ç±» â†’ å¤–éƒ¨ç±»ï¼š
		- å¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•)ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ã€‚
		- è‹¥å®šä¹‰åœ¨é™æ€æ–¹æ³•ä¸­ï¼Œåˆ™åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ã€‚
	- åŒ¿åå†…éƒ¨ç±» â†’ æ‰€åœ¨æ–¹æ³•çš„å±€éƒ¨å˜é‡å’Œå‚æ•°ï¼š
		- åªèƒ½è®¿é—® `final` æˆ–å®é™…ä¸Šæ˜¯ `final`ï¼ˆeffectively finalï¼‰çš„å˜é‡å’Œå‚æ•°ï¼›
		- "å®é™…ä¸Šæ˜¯ `final` çš„"æ˜¯æŒ‡ï¼šå˜é‡ä¸€æ—¦èµ‹å€¼åæœªè¢«ä¿®æ”¹ã€‚
	- å¤–éƒ¨ç±» â†’ åŒ¿åå†…éƒ¨ç±»ï¼šä½¿ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è¿›è¡Œè®¿é—®ã€‚
	- å¤–éƒ¨å…¶ä»–ç±» â†’ åŒ¿åå†…éƒ¨ç±»ï¼šæ— æ³•è®¿é—®ï¼ˆå—é™äºä½œç”¨åŸŸï¼‰ã€‚
- **è®¿é—®ä¿®é¥°ç¬¦**ï¼šä¸èƒ½ä½¿ç”¨ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦è¿›è¡Œä¿®é¥°ã€‚
- **æˆå‘˜é™åˆ¶**ï¼š
	- å¯ä»¥å£°æ˜ï¼šæˆå‘˜å˜é‡ï¼Œå®ä¾‹æ–¹æ³•ï¼ˆåŒ…æ‹¬ä¸åœ¨çˆ¶æ¥å£æˆ–åŸºç±»ä¸­å£°æ˜çš„æ–¹æ³•ï¼‰ï¼Œ[[ä»£ç å—#å®ä¾‹ä»£ç å—]]ï¼Œå±€éƒ¨ç±»ï¼›
	- ä¸èƒ½å£°æ˜ï¼šæ„é€ æ–¹æ³•ï¼Œé™æ€æˆå‘˜ï¼ˆå¦‚ï¼šé™æ€å˜é‡ã€é™æ€æ–¹æ³•ã€[[ä»£ç å—#é™æ€ä»£ç å—]]ã€æˆå‘˜æ¥å£ï¼‰ï¼Œä½†å¸¸é‡é™¤å¤–ã€‚
- **ä½œç”¨åŸŸ**ï¼šä»…é™äºå®šä¹‰å®ƒçš„æ–¹æ³•ï¼ˆæ„é€ å™¨ã€ä»£ç å—ï¼‰ä¸­ã€‚
- **å˜é‡é‡åå¤„ç†**ï¼š
	- éµå¾ªå°±è¿‘åŸåˆ™ï¼Œä¼˜å…ˆè®¿é—®å½“å‰ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚
	- è‹¥è®¿é—®åŒ¿åå†…éƒ¨ç±»è‡ªèº«çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `this.å˜é‡å` æ˜ç¡®æŒ‡å®šï¼›
	- è‹¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„åŒåæˆå‘˜å˜é‡ï¼Œå¯ä½¿ç”¨ `OuterClass.this.å˜é‡å` æ˜ç¡®æŒ‡å®šã€‚

ç¤ºä¾‹ 1ï¼šåŒ¿åå†…éƒ¨ç±»å®ç°å¤šè¯­è¨€é—®å€™ã€‚

```java hl:6,24,40
public class HelloWorldAnonymousClassExample {

  public void sayHello() {

    // è‹±è¯­é—®å€™ - å±€éƒ¨å†…éƒ¨ç±»å®ç°
    class EnglishGreeting implements HelloWorld {
      String name = "world";

      @Override
      public void greet() {
        greetSomeone(name);
      }

      @Override
      public void greetSomeone(String someone) {
        name = someone;
        System.out.println("Hello, " + name);
      }
    }

    HelloWorld englishGreeting = new EnglishGreeting();

    // æ³•è¯­é—®å€™ - åŒ¿åå†…éƒ¨ç±»å®ç°
    HelloWorld frenchGreeting = new HelloWorld() {
      String name = "tout le monde";

      @Override
      public void greet() {
        greetSomeone(name);
      }

      @Override
      public void greetSomeone(String someone) {
        name = someone;
        System.out.println("Salut, " + name);
      }
    };

    // è¥¿ç­ç‰™è¯­é—®å€™ - åŒ¿åå†…éƒ¨ç±»å®ç°
    HelloWorld spanishGreeting = new HelloWorld() {
      String name = "mundo";

      @Override
      public void greet() {
        greetSomeone("mundo");
      }

      @Override
      public void greetSomeone(String someone) {
        name = someone;
        System.out.println("Hola, " + name);
      }
    };

    englishGreeting.greet();
    frenchGreeting.greetSomeone("Fred");
    spanishGreeting.greet();
  }

  public static void main(String... args) {
    new HelloWorldAnonymousClassExample().sayHello();
  }

  interface HelloWorld {
    void greet();

    void greetSomeone(String someone);
  }
}
```

è¾“å‡ºç»“æœï¼š

```text
Hello, world
Salut, Fred
Hola, mundo
```

ç¤ºä¾‹ 2ï¼šåŒ¿åå†…éƒ¨ç±»ä¸­çš„å˜é‡é®è”½

```java hl:6,8,14,16
public class AnonymousVariableShadowExample {
  public int x = 0;

  public void printValue(int x) {
    // å±€éƒ¨å˜é‡
    System.out.println("LocalVariable.x = " + x);

    final Runnable runnable = new Runnable() {
      final int x = 1;

      @Override
      public void run() {
        // åŒ¿åå†…éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
        System.out.println("AnonymousClass.x = " + this.x);
        // å¤–éƒ¨ç±»çš„åŒåæˆå‘˜å˜é‡
        System.out.println("OuterClass.x = " + AnonymousVariableShadowExample.this.x);
      }
    };

    runnable.run();
  }

  public static void main(String[] args) {
    new AnonymousVariableShadowExample().printValue(23);
  }
}
```

è¾“å‡ºç»“æœï¼š

```text
LocalVariable.x = 23
AnonymousClass.x = 1
OuterClass.x = 0
```

## é—®é¢˜ä¸ç»ƒä¹ 

### é—®é¢˜

1. ğŸ¤”ç¨‹åº [Problem.java](https://docs.oracle.com/javase/tutorial/java/javaOO/QandE/Problem.java) æ— æ³•ç¼–è¯‘ã€‚ä½ éœ€è¦åšä»€ä¹ˆæ‰èƒ½è®©å®ƒç¼–è¯‘ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
   ğŸ¤“åˆ é™¤ `Inner` ç±»å£°æ˜å‰é¢çš„ `static`ï¼Œå› ä¸ºé™æ€å†…éƒ¨ç±»ä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å­—æ®µã€‚è¯·å‚è§ [ProblemSolved.java](https://docs.oracle.com/javase/tutorial/java/javaOO/QandE/ProblemSolved.java)ã€‚
2. ä½¿ç”¨ `javax.swing` åŒ…ä¸­çš„ `Box` ç±»çš„ Java API æ–‡æ¡£æ¥å¸®åŠ©ä½ å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚
    1. Box ç±»å®šä¹‰äº†å“ªä¸ªé™æ€åµŒå¥—ç±»ï¼Ÿ`Box.Filler`ã€‚
    2. Box ç±»ä¸­å®šä¹‰äº†å“ªä¸ªå†…éƒ¨ç±»ï¼Ÿ`Box.AccessibleBox`ã€‚
    3. Box ç±»ä¸­å†…éƒ¨ç±»çš„è¶…ç±»æ˜¯ä»€ä¹ˆï¼Ÿ`Container.AccessibleAWTContainer`ã€‚
    4. Box ç±»ä¸­çš„å“ªäº›åµŒå¥—ç±»å¯ä»¥åœ¨ä»»ä½•ç±»ä¸­ä½¿ç”¨ï¼Ÿ`Box.Filler`ã€‚
    5. å¦‚ä½•åˆ›å»º `Box` ç±»çš„ `Filler` ç±»çš„å®ä¾‹ï¼Ÿ`new Box.Filler(minDimension, prefDimension, maxDimension);`

### ç»ƒä¹ 

æ —å­ 1ï¼šè·å– [Class1.java](https://docs.oracle.com/javase/tutorial/java/javaOO/QandE/Class1.java) æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘å¹¶è¿è¡Œ `Class1`ã€‚è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

```text
InnerClass1: getString invoked.  
InnerClass1: getAnotherString invoked.
```

æ —å­ 2ï¼šä»¥ä¸‹ç»ƒä¹ æ¶‰åŠä¿®æ”¹ [DataStructure.java](https://docs.oracle.com/javase/tutorial/java/javaOO/examples/DataStructure.java) ç±»ï¼Œè¿™ä¸ªç±»åœ¨[[#æˆå‘˜å†…éƒ¨ç±»]] ä¸€èŠ‚ä¸­æœ‰è®¨è®ºã€‚

1. å®šä¹‰äº†ä¸€ä¸ªåä¸º `print()` çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ª `DataStructureIterator` ç±»å‹çš„å‚æ•° `iterator`ã€‚ä½¿ç”¨ `EvenIterator` ç±»çš„ä¸€ä¸ªå®ä¾‹è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä»¥ä¾¿å®ƒæ‰§è¡Œä¸ `printEven()` æ–¹æ³•ç›¸åŒçš„åŠŸèƒ½ã€‚æç¤ºï¼šå¦‚æœä½ åœ¨ `main` æ–¹æ³•ä¸­æŒ‡å®šäº†ä»¥ä¸‹è¯­å¥ï¼Œå®ƒä»¬å°†æ— æ³•ç¼–è¯‘ï¼š

	```java
   DataStructure ds = new DataStructure();
   ds.print(new EvenIterator());
	```

   å½“ç¼–è¯‘å™¨é‡åˆ°è¡¨è¾¾å¼ `new EvenIterator()` æ—¶ï¼Œå®ƒä¼šç”Ÿæˆé”™è¯¯æ¶ˆæ¯ ' éé™æ€å˜é‡ this ä¸èƒ½åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­å¼•ç”¨ 'ã€‚`EvenIterator` ç±»æ˜¯ä¸€ä¸ªå†…éƒ¨çš„éé™æ€ç±»ã€‚è¿™æ„å‘³ç€ä½ åªèƒ½åœ¨ `DataStructure` ç±»çš„å®ä¾‹å†…éƒ¨åˆ›å»º `EvenIterator` ç±»çš„å®ä¾‹ã€‚ä½ å¯ä»¥åœ¨ `DataStructure` ç±»ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ `EvenIterator` ç±»çš„å®ä¾‹ã€‚
2. è°ƒç”¨ `print(DataStructureIterator iterator)` æ–¹æ³•ï¼Œä½¿å…¶æ‰“å°å…·æœ‰å¥‡æ•°ç´¢å¼•å€¼çš„å…ƒç´ ã€‚ä½¿ç”¨åŒ¿åç±»ä½œä¸ºæ–¹æ³•çš„å‚æ•°ï¼Œè€Œä¸æ˜¯ `DataStructureIterator` æ¥å£çš„å®ä¾‹ã€‚æç¤ºï¼šä½ ä¸èƒ½åœ¨ `DataStructure` ç±»ä¹‹å¤–è®¿é—®ç§æœ‰æˆå‘˜ `SIZE` å’Œ `arrayOfInts`ï¼Œè¿™æ„å‘³ç€ä½ ä¸èƒ½ä» `DataStructure` ç±»ä¹‹å¤–å®šä¹‰çš„åŒ¿åç±»ä¸­è®¿é—®è¿™äº›ç§æœ‰æˆå‘˜ã€‚ä½ å¯ä»¥å®šä¹‰æ–¹æ³•æ¥è®¿é—®ç§æœ‰æˆå‘˜ `SIZE` å’Œ `arrayOfInts`ï¼Œç„¶ååœ¨ä½ çš„åŒ¿åç±»ä¸­ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚
3. å®šä¹‰ä¸€ä¸ªåä¸º `print` çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ª `Function<Integer, Boolean>` ç±»å‹çš„å‚æ•° `iterator`ï¼Œå¹¶æ‰§è¡Œä¸ `print(DataStructureIterator iterator)` ç›¸åŒçš„åŠŸèƒ½ã€‚ä½¿ç”¨ lambda è¡¨è¾¾å¼è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥æ‰“å°å…·æœ‰å¶æ•°ç´¢å¼•å€¼çš„å…ƒç´ ã€‚å†æ¬¡ä½¿ç”¨ lambda è¡¨è¾¾å¼è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥æ‰“å°å…·æœ‰å¥‡æ•°ç´¢å¼•å€¼çš„å…ƒç´ ã€‚æç¤ºï¼šåœ¨è¿™ä¸ª `print` æ–¹æ³•ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ `for` è¡¨è¾¾å¼éå† `arrayOfInts` æ•°ç»„ä¸­çš„å…ƒç´ ã€‚å¯¹äºæ¯ä¸ªç´¢å¼•å€¼ï¼Œè°ƒç”¨ `function.apply` æ–¹æ³•ã€‚å¦‚æœè¯¥æ–¹æ³•å¯¹æŸä¸ªç‰¹å®šç´¢å¼•å€¼è¿”å› `true`ï¼Œåˆ™æ‰“å°è¯¥ç´¢å¼•å€¼å¤„çš„å…ƒç´ ã€‚ä¸ºäº†è°ƒç”¨è¿™ä¸ª `print` æ–¹æ³•æ¥æ‰“å°å…·æœ‰å¶æ•°ç´¢å¼•å€¼çš„å…ƒç´ ï¼Œä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå®ç° `Boolean Function.apply(Integer t)` æ–¹æ³•çš„ lambda è¡¨è¾¾å¼ã€‚è¿™ä¸ª lambda è¡¨è¾¾å¼æ¥å—ä¸€ä¸ª `Integer` å‚æ•°ï¼ˆç´¢å¼•å€¼ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆå¦‚æœç´¢å¼•å€¼æ˜¯å¶æ•°åˆ™è¿”å› `Boolean.TRUE`ï¼Œå¦åˆ™è¿”å› `Boolean.FALSE`ï¼‰ã€‚
4. å®šä¹‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä½¿å¾—ä»¥ä¸‹è¯­å¥èƒ½å¤Ÿæ‰“å°å…·æœ‰å¶æ•°ç´¢å¼•å€¼çš„å…ƒç´ ï¼Œç„¶åæ‰“å°å…·æœ‰å¥‡æ•°ç´¢å¼•å€¼çš„å…ƒç´ ï¼š

	```java
   DataStructure ds = new DataStructure()
   // ...
   ds.print(DataStructure::isEvenIndex);
   ds.print(DataStructure::isOddIndex);
	```

> [!tip]
>
> åœ¨ `DataStructure` ç±»ä¸­åˆ›å»ºä¸¤ä¸ªåä¸º `isEvenIndex` å’Œ `isOddIndex` çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å…·æœ‰ä¸æŠ½è±¡æ–¹æ³• `Boolean Function<Integer, Boolean>.apply (Integer t)` ç›¸åŒçš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ã€‚è¿™æ„å‘³ç€è¿™äº›æ–¹æ³•æ¥å—ä¸€ä¸ª `Integer` å‚æ•°ï¼ˆç´¢å¼•å€¼ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚

```java file:"ç‚¹æˆ‘æŸ¥çœ‹ç­”æ¡ˆ" fold
public class DataStructure {

    // Create an array
    private final static int SIZE = 15;
    private final int[] arrayOfInts = new int[SIZE];

    public DataStructure() {
        // fill the array with ascending integer values
        for (int i = 0; i < SIZE; i++) {
            arrayOfInts[i] = i;
        }
    }

    public int getSize() {
        return SIZE;
    }

    public int get(int index) {
        return arrayOfInts[index];
    }

    public EvenIterator getEvenIterator() {
        return new EvenIterator();
    }

    public void print(java.util.function.Function<Integer, Boolean> iterator) {
        for (int i = 0; i < SIZE; i++) {
            if (iterator.apply(i)) {
                System.out.print(arrayOfInts[i] + " ");
            }
        }
        System.out.println();
    }

    public void print(DataStructureIterator iterator) {
        while (iterator.hasNext()) {
            System.out.print(iterator.next() + " ");
        }
        System.out.println();
    }

    public void printEven() {
        // Print out values of even indices of the array
        DataStructureIterator iterator = this.new EvenIterator();
        while (iterator.hasNext()) {
            System.out.print(iterator.next() + " ");
        }
        System.out.println();
    }

    public static Boolean isEvenIndex(int index) {
        return index % 2 == 0;
    }

    public static Boolean isOddIndex(int index) {
        return index % 2 != 0;
    }

    public static void main(String[] s) {

        // Fill the array with integer values and print out only
        // values of even indices
        DataStructure ds = new DataStructure();
        System.out.println("printEven()");
        ds.printEven();

        System.out.println("print(DataStructureIterator) with getEvenIterator");
        ds.print(ds.getEvenIterator());

        System.out.println("print(DataStructureIterator) with anonymous class, odd indicies");
        ds.print(new DataStructureIterator() {
            private int nextIndex = 1;

            @Override
            public boolean hasNext() {
                return nextIndex <= ds.getSize() - 1;
            }

            @Override
            public Integer next() {
                final int retValue = ds.get(nextIndex);
                nextIndex += 2;
                return retValue;
            }
        });

        System.out.println("print(Function) with lambda expressions");
        ds.print((i) -> i % 2 == 0);
        ds.print(i -> i % 2 != 0);

        System.out.println("print(Function) with method references");
        ds.print(DataStructure::isEvenIndex);
        ds.print(DataStructure::isOddIndex);
    }

    // Inner class implements the DataStructureIterator interface,
    // which extends the Iterator<Integer> interface

    interface DataStructureIterator extends java.util.Iterator<Integer> {
    }

    private class EvenIterator implements DataStructureIterator {

        // Start stepping through the array from the beginning
        private int nextIndex = 0;

        @Override
        public boolean hasNext() {

            // Check if the current element is the last in the array
            return (nextIndex <= SIZE - 1);
        }

        @Override
        public Integer next() {

            // Record a value of an even index of the array
            Integer retValue = arrayOfInts[nextIndex];

            // Get the next even element
            nextIndex += 2;
            return retValue;
        }
    }
}
```
