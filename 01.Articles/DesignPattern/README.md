---
tags:
  - Java/DesignPattern
create_time: 2025/06/14 17:34
update_time: 2025/06/24 19:19
---

## å®šä¹‰

è®¾è®¡æ¨¡å¼ï¼šæ˜¯æŒ‡**åœ¨è½¯ä»¶å¼€å‘ä¸­**ï¼Œ**ç»è¿‡éªŒè¯**çš„ï¼Œç”¨äºŽè§£å†³åœ¨**ç‰¹å®šçŽ¯å¢ƒä¸‹**ã€**é‡å¤å‡ºçŽ°çš„**ã€**ç‰¹å®šé—®é¢˜**çš„**è§£å†³æ–¹æ¡ˆ**ã€‚

- **ç‰¹å®šé—®é¢˜**ï¼šè¯´æ˜Žè®¾è®¡æ¨¡å¼ä¸æ˜¯ä»€ä¹ˆä¸‡èƒ½çµè¯ï¼Œå¹¶ä¸èƒ½è§£å†³ä»»ä½•é—®é¢˜ï¼Œé€šå¸¸ä¸€ä¸ªè®¾è®¡æ¨¡å¼ä»…ä»…ç”¨äºŽè§£å†³æŸä¸ªæˆ–æŸç±»ç‰¹å®šçš„é—®é¢˜ã€‚å› æ­¤ä¸è¦è¿·ä¿¡è®¾è®¡æ¨¡å¼ï¼Œä¹Ÿä¸è¦æ³›æ»¥ä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚
- **é‡å¤å‡ºçŽ°**ï¼šåªæœ‰è¿™äº›ç‰¹å®šé—®é¢˜"é‡å¤å‡ºçŽ°"ï¼Œé‚£ä¹ˆä¸ºè¿™äº›é—®é¢˜æ€»ç»“è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ‰æ„ä¹‰çš„è¡Œä¸ºã€‚å½“è¿™äº›é—®é¢˜å†æ¬¡å‡ºçŽ°æ—¶ï¼Œå°±å¯ä»¥å¤ç”¨è¿™äº›è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸ç”¨ä»Žå¤´æ¥å¯»æ±‚è§£å†³åŠžæ³•ã€‚
- ç‰¹å®šçŽ¯å¢ƒä¸‹ï¼šä»»ä½•é—®é¢˜çš„å‡ºçŽ°éƒ½æ˜¯æœ‰åœºæ™¯çš„ï¼Œä¸èƒ½è„±ç¦»çŽ¯å¢ƒåŽ»è®¨è®ºé—®é¢˜çš„è§£å†³åŠžæ³•ï¼Œå› ä¸ºå°±ç®—ä¸åŒçŽ¯å¢ƒä¸‹ï¼Œå°±ç®—æ˜¯ç›¸åŒçš„é—®é¢˜ï¼Œè§£å†³åŠžæ³•ä¹Ÿä¸ä¸€å®šæ˜¯ä¸€æ ·çš„ã€‚
- **ç»è¿‡éªŒè¯**ï¼šæ¯ä¸ªäººéƒ½å¯ä»¥æ€»ç»“ä¸€ä¸‹ç”¨äºŽè§£å†³åœ¨ç‰¹å®šçŽ¯å¢ƒä¸‹ã€é‡å¤å‡ºçŽ°çš„ã€ç‰¹å®šé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªäººæ€»ç»“çš„è§£å†³æ–¹æ¡ˆéƒ½ç®—çš„ä¸Šæ˜¯è®¾è®¡æ¨¡å¼ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆåº”è¯¥è¦æœ‰è¶³å¤Ÿçš„åº”ç”¨æ¥éªŒè¯ï¼Œå¹¶å¾—åˆ°å¤§å®¶çš„è®¤å¯ï¼Œåªæœ‰ç»è¿‡éªŒè¯çš„è§£å†³æ–¹æ¡ˆæ‰ç®—å¾—ä¸Šæ˜¯è®¾è®¡æ¨¡å¼ã€‚

## ç†è§£/è®¤çŸ¥

- è®¾è®¡æ¨¡å¼æ˜¯è§£å†³æŸäº›é—®é¢˜çš„åŠžæ³•ã€‚è¦ç†è§£å’ŒæŽŒæ¡è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­å¿ƒå°±åœ¨äºŽå¯¹è¿™äº›åŠžæ³•çš„ç†è§£å’ŒæŽŒæ¡ï¼Œç„¶åŽè¿›ä¸€æ­¥æ·±åŒ–è¿™äº›åŠžæ³•**æ‰€ä½“çŽ°çš„æ€æƒ³å±‚é¢**ä¸Šï¼Œå°†è®¾è®¡æ¨¡å¼æ‰€ä½“çŽ°çš„æ€è€ƒæ–¹å¼è¿›è¡Œå¸æ”¶å’Œæ¶ˆåŒ–ï¼Œèžå…¥åˆ°è‡ªå·±çš„æ€ç»´ä¸­ã€‚
- è®¾è®¡æ¨¡å¼ä¸æ˜¯å‡­ç©ºæƒ³è±¡å‡ºæ¥çš„ï¼Œ**æ˜¯ç»éªŒçš„ç§¯ç´¯å’Œæ€»ç»“**ã€‚ä»Žç†è®ºä¸Šæ¥è¯´ï¼Œè®¾è®¡æ¨¡å¼å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼Œæœ‰å¯èƒ½å­˜åœ¨æ¯”è®¾è®¡æ¨¡å¼æ›´ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´è®¾è®¡æ¨¡å¼æ˜¯ç›¸å¯¹ä¼˜ç§€çš„ï¼Œæ²¡æœ‰æœ€ä¼˜ï¼Œåªæœ‰æ›´ä¼˜ã€‚

## ä¸‰ä¸ªé˜¶æ®µ

### åŸºæœ¬å…¥é—¨çº§

è¦æ±‚**èƒ½å¤Ÿæ­£ç¡®ç†è§£å’ŒæŽŒæ¡æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„åŸºæœ¬çŸ¥è¯†**ï¼Œ**èƒ½å¤Ÿè¯†åˆ«åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ã€å‡ºçŽ°äº†ä»€ä¹ˆæ ·çš„é—®é¢˜ã€é‡‡ç”¨ä½•ç§æ–¹æ¡ˆæ¥è§£å†³å®ƒ**ï¼Œå¹¶èƒ½å¤Ÿåœ¨å®žé™…çš„ç¨‹åºè®¾è®¡å’Œå¼€å‘ä¸­**å¥—ç”¨ç›¸åº”çš„è®¾è®¡æ¨¡å¼**ã€‚

### åŸºæœ¬æŽŒæ¡çº§

é™¤äº†å…·å¤‡åŸºæœ¬å…¥é—¨çº§çš„è¦æ±‚å¤–ï¼Œè¿˜è¦æ±‚**èƒ½å¤Ÿç»“åˆå®žé™…çš„åº”ç”¨åœºæ™¯ï¼Œå¯¹è®¾è®¡æ¨¡å¼è¿›è¡Œå˜å½¢ä½¿ç”¨**ã€‚äº‹å®žä¸Šï¼Œåœ¨å®žé™…å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ä¸Žæ ‡å‡†è®¾è®¡æ¨¡å¼çš„åº”ç”¨åœºæ™¯æœ‰ä¸€äº›ä¸ä¸€æ ·çš„æƒ…å†µï¼Œæ­¤æ—¶è¦åˆç†åœ°ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œå°±éœ€è¦å¯¹å®ƒä»¬åšé€‚å½“åœ°å˜å½¢ï¼Œè€Œä¸æ˜¯åƒµç¡¬åœ°å¥—ç”¨ã€‚å½“ç„¶è¿›è¡Œå˜å½¢åœ°å‰ææ˜¯è¦èƒ½å‡†ç¡®æ·±å…¥åœ°ç†è§£å’ŒæŠŠæ¡è®¾è®¡æ¨¡å¼çš„æœ¬è´¨ï¼Œ**ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œåªæœ‰æŠŠæ¡ä½æœ¬è´¨ï¼Œæ‰èƒ½å¤Ÿç¡®ä¿æ­£ç¡®å˜å½¢ä½¿ç”¨è€Œä¸æ˜¯è¯¯ç”¨**ã€‚

### æ·±å…¥ç†è§£å’ŒæŽŒæ¡çº§

é™¤äº†å…·å¤‡åŸºæœ¬æŽŒæ¡çº§çš„è¦æ±‚å¤–ï¼Œæ›´é‡è¦çš„æ˜¯ï¼š

> [!important]
> **è¦ä»Žæ€æƒ³ä¸Šå’Œæ–¹æ³•ä¸Šå¸æ”¶è®¾è®¡æ¨¡å¼çš„ç²¾é«“ï¼Œå¹¶èžå…¥åˆ°è‡ªå·±çš„æ€è·¯ä¸­ï¼Œåœ¨è¿›è¡Œè½¯ä»¶åˆ†æžå’Œè®¾è®¡çš„æ—¶å€™ï¼Œèƒ½éšæ„åœ°ã€è‡ªç„¶è€Œç„¶åœ°åº”ç”¨ï¼Œå°±å¦‚åŒè‡ªå·±æ€ç»´çš„ä¸€éƒ¨åˆ†**ã€‚

---

å¯¹äºŽè¿™ä¸‰ä¸ªé˜¶æ®µï¼Œç®€å•ç‚¹æ¥è¯´å°±æ˜¯ï¼Œ**åŸºæœ¬å…¥é—¨çº§**å°±æ˜¯å¥—ç”¨ä½¿ç”¨ï¼Œç›¸å½“äºŽèƒ½å¤Ÿ**ä¾è‘«èŠ¦ç”»ç“¢ï¼Œå¾ˆæœºæ¢°**ï¼›**åŸºæœ¬æŽŒæ¡çº§**å°±æ˜¯èƒ½å¤Ÿå˜å½¢ä½¿ç”¨ï¼Œæ¯”åŸºæœ¬å…¥é—¨çº§çµæ´»ä¸€äº›ï¼Œ**ä¼šé€‚å½“å˜å½¢ä½¿ç”¨**ï¼›**æ·±å…¥ç†è§£å’ŒæŽŒæ¡çº§**æ‰ç®—æ˜¯çœŸæ­£å°†è®¾è®¡æ¨¡å¼çš„ç²¾é«“å¸æ”¶äº†ï¼Œæ˜¯**ä»Žæ€æƒ³å’Œæ–¹æ³•çš„å±‚é¢åŽ»ç†è§£å’ŒæŽŒæ¡è®¾è®¡æ¨¡å¼**ï¼Œå°±çŠ¹å¦‚æ­¦åŠŸç»ƒåˆ°æœ€é«˜å¢ƒç•Œï¼Œ"æ— æ‹›èƒœæœ‰æ‹›"ã€‚è¦åƒè¾¾åˆ°è¿™ä¸ªå¢ƒç•Œï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å¼€å‘å’Œè®¾è®¡ç»éªŒï¼Œæ²¡æœ‰è¶³å¤Ÿæ·±å…¥çš„æ€è€ƒï¼Œæ˜¯ä¸å¤ªå¯èƒ½è¾¾åˆ°çš„ã€‚

## å¦‚ä½•å­¦ä¹ ï¼Ÿ

1. é¦–å…ˆè¦**è°ƒæ•´å¥½å¿ƒæ€**ï¼Œ**ä¸è¦æŒ‡æœ›ä¸€è¹´è€Œå°±**ï¼Œ**ä¸å¯æµ®èº**ã€‚å­¦ä¹ å’ŒæŽŒæ¡è®¾è®¡æ¨¡å¼éœ€è¦ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸åŒé˜¶æ®µçœ‹è¿™äº›è®¾è®¡æ¨¡å¼ä¼šæœ‰ä¸åŒçš„é¢†æ‚Ÿå’Œæ„Ÿå—ï¼Œæœ‰ç‚¹åƒ**äººç”Ÿä¸‰é‡å¢ƒç•Œï¼šçœ‹å±±æ˜¯å±±ï¼Œçœ‹å±±ä¸æ˜¯å±±ï¼Œçœ‹å±±è¿˜æ˜¯å±±**ã€‚
2. æ–¹æ³•è®ºï¼šè¦æƒ³çœŸæ­£ç†è§£å’ŒæŽŒæ¡è®¾è®¡æ¨¡å¼ï¼Œ**å¿…é¡»è¦ä¸Šå‡åˆ°ä¸€å®šçš„éš¾åº¦å’Œæ·±åº¦ï¼ˆæ¯”å¦‚è¯´çœ‹æºç ï¼Œspringã€mybatis...åœ¨è¿™äº›é¡¹ç›®ä¸­å¯¹è®¾è®¡æ¨¡å¼è¿ç”¨çš„å¯ä»¥è¯´éžå¸¸å·§å¦™ï¼‰**ï¼Œ**è®©ä½ çœ‹å®ŒåŽæ€è€ƒ**ï¼Œ**æ€è€ƒåŽåº”ç”¨**ï¼Œ**ç„¶åŽå†çœ‹**ã€**å†æ€è€ƒ**ã€**å†åº”ç”¨**ï¼Œ**å¦‚æ­¤åå¤**ï¼Œ**æ–¹èƒ½æˆå°±**ã€‚
3. å­¦ä¹ è®¾è®¡æ¨¡å¼çš„å‡ ä¸ªæ­¥éª¤ï¼š
   1. ç¬¬ä¸€æ­¥ï¼š**å‡†ç¡®ç†è§£**æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„**åŠŸèƒ½**ã€**åŸºæœ¬ç»“æž„**ã€**æ ‡å‡†å®žçŽ°**ï¼Œäº†è§£é€‚åˆä½¿ç”¨å®ƒçš„**åœºæ™¯**ä»¥åŠä½¿ç”¨ä¹‹åŽçš„**æ•ˆæžœ**ï¼›
   2. ç¬¬äºŒæ­¥ï¼šå®žé™…çš„å¼€å‘ä¸­ï¼Œ**å°è¯•åŽ»ä½¿ç”¨**è¿™äº›è®¾è®¡æ¨¡å¼ï¼Œå¹¶**åå¤æ€è€ƒå’Œæ€»ç»“**æ˜¯å¦ä½¿ç”¨å¾—å½“ï¼Œæ˜¯å¦éœ€è¦åšä¸€äº›å˜åŒ–ã€‚
   3. ç¬¬ä¸‰æ­¥ï¼š**å†å›žå¤´**åŽ»çœ‹è®¾è®¡æ¨¡å¼çš„**ç†è®º**ï¼Œæœ‰äº†å®žé™…çš„æ¨¡å¼åº”ç”¨ç»éªŒå†çœ‹è®¾è®¡æ¨¡å¼ï¼Œä¼šæœ‰ä¸åŒçš„æ„Ÿæ‚Ÿï¼Œ**ä¸€è¾¹çœ‹ä¸€è¾¹ç»“åˆç€åº”ç”¨ç»éªŒ**æ¥**æ€è€ƒ**ã€‚æ¯”å¦‚ï¼šè®¾è®¡æ¨¡å¼çš„æœ¬è´¨åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å¦‚ä½•å®žçŽ°çš„ï¼Ÿè¿™ç§å®žçŽ°æ–¹å¼è¿˜å¯ä»¥åœ¨ä»€ä¹ˆåœ°æ–¹åº”ç”¨ï¼Ÿå¦‚ä½•æ‰èƒ½æŠŠè¿™ä¸ªè®¾è®¡æ¨¡å¼å’Œå…·ä½“çš„åº”ç”¨ç»“åˆèµ·æ¥ï¼Ÿè¿™ä¸ªè®¾è®¡æ¨¡å¼çš„å‡ºå‘ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿç­‰ç­‰ã€‚å¯ä»¥æœ‰å¾ˆå¤šè€ƒè™‘çš„ç‚¹ï¼Œä»Žä¸åŒçš„è§’åº¦å¯¹è®¾è®¡æ¨¡å¼è¿›è¡Œæ€è€ƒã€‚
   4. ç¬¬å››æ­¥ï¼š**å¤šæ¬¡é‡å¤**å­¦ä¹ è®¾è®¡æ¨¡å¼çš„ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ã€‚ä¹Ÿå°±æ˜¯**åœ¨å®žé™…å¼€å‘ä¸­ä½¿ç”¨**ï¼Œç„¶åŽ**ç»“åˆç†è®ºæ€è€ƒ**ï¼Œç„¶åŽ**å†åº”ç”¨**ï¼Œ**å†æ€è€ƒ**...**å¦‚æ­¤å¾ªçŽ¯**ï¼Œ**åå¤å¤šæ¬¡**ï¼Œç›´è‡³è¾¾åˆ°å¯¹è®¾è®¡æ¨¡å¼åŸºæœ¬æŽŒæ¡çš„çº§åˆ«ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯è¦ä½¿**ç†è®ºå’Œå®žé™…ç›¸ç»“åˆ**ï¼Œ**ç†è®ºæŒ‡å¯¼å®žè·µ**ï¼Œ**å®žè·µåè¿‡æ¥åŠ æ·±å¯¹ç†è®ºçš„ç†è§£**ï¼Œå¦‚æ­¤åå¤ï¼Œæˆèžºæ—‹å¼ä¸Šå‡ã€‚

> [!important]
>
> **æˆ‘äº¦æ— ä»–ï¼Œ æƒŸæ‰‹ç†Ÿå°”**<br />äº‹å®žä¸Šï¼Œåˆ°äº†åŸºæœ¬æŽŒæ¡è®¾è®¡æ¨¡å¼çš„æ°´å¹³åŽï¼Œåªæœ‰ä¸€ä¸ªå»ºè®®ï¼Œé‚£å°±æ˜¯**åå¤åœ°**ã€**æ·±å…¥åœ°æ€è€ƒ**ï¼Œ**åˆ«æ— ä»–æ³•**ã€‚åˆ°äº†æ€æƒ³çš„å±‚é¢ï¼Œå°±å¾—é  " æ‚Ÿ " äº†ã€‚

## 23 ç§è®¾è®¡æ¨¡å¼

> [!ATTENTION]
> [[ç®€å•å·¥åŽ‚æ¨¡å¼]]ç”±äºŽè¿å[[ä¸ƒå¤§è®¾è®¡åŽŸåˆ™#å¼€é—­åŽŸåˆ™|å¼€é—­åŽŸåˆ™]]ï¼Œå› æ­¤å¹¶ä¸å±žäºŽ "GoF" æå‡ºçš„ 23 ç§ç»å…¸è®¾è®¡æ¨¡å¼ï¼

```dataviewjs
const pages = dv.pages("#Java/DesignPattern")
  .where(p => p.file.path.includes(dv.current().file.folder) && p.file.name !== dv.current().file.name);

// èŽ·å–åˆ†ç»„å­—æ®µï¼ˆç« èŠ‚ï¼‰
function getGroup(folder) {
  const match = folder.match(/^.*?\/DesignPattern(?:\/([^/]+))?.*/);
  return match && match[1] ? match[1] : "";
}

// æŒ‰åˆ†ç»„èšåˆ
const grouped = new Map();
for (const page of pages) {
  const groupKey = getGroup(page.file.folder);
  if (!groupKey) continue; // è·³è¿‡æœªåˆ†ç»„çš„è®°å½•
  if (!grouped.has(groupKey)) grouped.set(groupKey, []);
  grouped.get(groupKey).push(page);
}

// æŽ’åºå¹¶è¾“å‡º
for (const [group, items] of grouped.entries()) {
  dv.header(3, `ðŸ“ ${group || "æœªåˆ†ç»„"}`);
  dv.table(["ðŸ“„ æ–‡ä»¶", "ðŸ“… åˆ›å»ºæ—¶é—´", "ðŸ•“ ä¿®æ”¹æ—¶é—´"],
    items
      .sort((a, b) => (a.priority ?? 999) - (b.priority ?? 999))
      .map(p => [p.file.link, p.file.ctime, p.file.mtime ?? "æ— "])
  );
}
```
