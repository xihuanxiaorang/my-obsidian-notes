---
tags:
  - Java/DesignPattern
update_time: 2025/06/22 19:06
create_time: 2025-06-15T18:55:00
priority: 10
---

## å•ä¸€èŒè´£åŸåˆ™

å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼ŒSRPï¼‰æŒ‡çš„æ˜¯ï¼š**ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› **ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹åŠŸèƒ½æˆ–èŒè´£**ã€‚å¦‚æœä¸€ä¸ªç±»æ‰¿æ‹…äº†å¤šä¸ªäº’ä¸ç›¸å…³çš„èŒè´£ï¼Œå°±åº”è¯¥å°†å…¶**æ‹†åˆ†ä¸ºèŒè´£æ›´å•ä¸€ã€ç²’åº¦æ›´ç»†çš„ç±»**ã€‚

è¿™æ ·çš„è®¾è®¡å¯ä»¥æ˜¾è‘—é™ä½ç±»çš„å¤æ‚åº¦ï¼Œæé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå‡å°‘åŠŸèƒ½å˜æ›´æ—¶å¯¹ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†çš„å½±å“ã€‚ç®€è€Œè¨€ä¹‹ï¼š**ç±»ã€æ¥å£æˆ–æ–¹æ³•åº”èšç„¦äºä¸€é¡¹èŒè´£ã€‚**

å•ä¸€èŒè´£åŸåˆ™æ˜¯å®ç°**é«˜å†…èšã€ä½è€¦åˆ**çš„å…³é”®ï¼Œå®ƒçœ‹ä¼¼ç®€å•ï¼Œå®åˆ™è¦æ±‚è¾ƒå¼ºçš„**æ¶æ„åˆ†æèƒ½åŠ›ä¸è®¾è®¡ç»éªŒ**ï¼Œå› ä¸ºè¯†åˆ«ä¸€ä¸ªç±»ä¸­æ˜¯å¦å­˜åœ¨å¤šä¸ªèŒè´£ï¼Œå¹¶åˆç†æ‹†åˆ†ï¼Œæ˜¯ä¸€ä¸ªæŠ€æœ¯ä¸ç»éªŒå…¼å…·çš„è¿‡ç¨‹ã€‚

ä¸¾ä¸ªæ —å­ï¼šä»¥ Sunny å…¬å¸ CRM ç³»ç»Ÿä¸­çš„ "å®¢æˆ·ä¿¡æ¯å›¾å½¢ç»Ÿè®¡æ¨¡å—" ä¸ºä¾‹ï¼Œåˆå§‹è®¾è®¡å¦‚ä¸‹ï¼š

```plantuml
@startuml

class CsutomerDataChat {
	+ getConnection(): Connection
	+ findCustomers(): List<Customer>
	+ createChart()
	+ displayChart()
}

note right of CsutomerDataChat::getConnection
  ç”¨äºè¿æ¥æ•°æ®åº“
end note
note right of CsutomerDataChat::findCustomers
  æŸ¥è¯¢æ‰€æœ‰çš„å®¢æˆ·ä¿¡æ¯
end note
note right of CsutomerDataChat::createChart
  åˆ›å»ºå›¾è¡¨
end note
note right of CsutomerDataChat::displayChart
  æ˜¾ç¤ºå›¾è¡¨
end note

@enduml
```

åœ¨è¿™ä¸ªè®¾è®¡ä¸­ï¼Œ`CsutomerDataChat` ç±»æ‰¿æ‹…äº†ä¸‰ç±»èŒè´£ï¼š

1. æ•°æ®åº“è¿æ¥ï¼ˆ`getConnection()`ï¼‰ï¼›
2. å®¢æˆ·æ•°æ®æŸ¥è¯¢ï¼ˆ`findCustomers()`ï¼‰ï¼›
3. å›¾è¡¨ç”Ÿæˆä¸å±•ç¤ºï¼ˆ`createChart()` å’Œ `displayChart()`ï¼‰ã€‚

è¿™æ˜¾ç„¶è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚æœªæ¥æ— è®ºæ•°æ®åº“è¿æ¥æ–¹å¼æ”¹å˜ï¼Œè¿˜æ˜¯å›¾è¡¨å±•ç¤ºé€»è¾‘å˜åŠ¨ï¼Œéƒ½ä¼šå¯¼è‡´ `CsutomerDataChat` è¢«é¢‘ç¹ä¿®æ”¹ï¼Œå¢åŠ äº†ç»´æŠ¤æˆæœ¬ï¼Œä¹Ÿé™ä½äº†å¤ç”¨æ€§ã€‚

ğŸš€ä¸ºäº†ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œæˆ‘ä»¬å°†å…¶æ‹†åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªç±»ï¼š

1. `DBUtil`ï¼šä¸“æ³¨äºæ•°æ®åº“è¿æ¥ï¼›
2. `CustomerDao`ï¼šè´Ÿè´£ `Customer` æ•°æ®è¡¨çš„æŸ¥è¯¢ï¼›
3. `CsutomerDataChat`ï¼šè´Ÿè´£å›¾è¡¨çš„ç”Ÿæˆä¸å±•ç¤ºã€‚

æ‹†åˆ†åçš„ç±»ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

```plantuml
@startuml

class CsutomerDataChat {
	- customerDao: CustomerDao
	+ createChart()
	+ displayChart()
}

class CustomerDao {
	- dbUtil: DBUtil
	+ findCustomers(): List<Customer>
}

class DBUtil {
	+ getConnection(): Connection
}

CsutomerDataChat --> CustomerDao
CustomerDao --> DBUtil

@enduml
```

é€šè¿‡è¿™æ ·çš„é‡æ„ï¼Œæ¯ä¸ªç±»åªå…³æ³¨ä¸€ä¸ªæ–¹é¢çš„å˜åŒ–ï¼ŒèŒè´£æ¸…æ™°ï¼ŒåŠŸèƒ½è§£è€¦ï¼Œæœ‰åŠ©äºæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œç¨³å®šæ€§ã€‚

## å¼€é—­åŸåˆ™

å¼€é—­åŸåˆ™ï¼ˆOpen-Closed Principleï¼ŒOCPï¼‰æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€ï¼ŒæŒ‡çš„æ˜¯ï¼šè½¯ä»¶å®ä½“ï¼ˆå¦‚ç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ç­‰ï¼‰**åº”å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­**ã€‚å³åœ¨æ–°å¢åŠŸèƒ½æ—¶ï¼Œåº”é€šè¿‡**æ‰©å±•ç°æœ‰ä»£ç **æ¥å®ç°ï¼Œè€Œä¸åº”ä¿®æ”¹å·²æœ‰é€»è¾‘ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„**ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§**ã€‚

å¼€é—­åŸåˆ™å¼ºè°ƒï¼š**ç”¨æŠ½è±¡æ„å»ºç³»ç»Ÿæ¡†æ¶ï¼Œç”¨å…·ä½“å®ç°æ‰©å±•ç³»ç»ŸåŠŸèƒ½**ã€‚å½“éœ€æ±‚å˜åŒ–æ—¶ï¼Œåªéœ€åŸºäºç¨³å®šçš„æŠ½è±¡æ–°å¢å®ç°ç±»ï¼Œå³å¯å®ç°æ–°åŠŸèƒ½ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰é€»è¾‘ï¼Œä»è€Œé™ä½æ”¹åŠ¨å¸¦æ¥çš„é£é™©ã€‚

å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œè€Œéé¢å‘å…·ä½“å®ç°**ã€‚æŠ½è±¡æ›´å…·ç¨³å®šæ€§ï¼Œä¾èµ–æŠ½è±¡å¯é¿å…é¢‘ç¹ä¿®æ”¹ï¼›é€šè¿‡ç»§æ‰¿ä¸å¤šæ€æœºåˆ¶ï¼Œå¯çµæ´»æ‰©å±•åŠŸèƒ½ï¼Œå®ç°å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å°é—­çš„ç›®æ ‡ã€‚

ä¸¾ä¸ªæ —å­ï¼šä»¥æŸå­¦é™¢çš„è¯¾ç¨‹ä½“ç³»ä¸ºä¾‹æ¥è¯´æ˜å¼€é—­åŸåˆ™çš„åº”ç”¨ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¯¾ç¨‹æ¥å£ `ICourse`ï¼š

```java
public interface ICourse {
  Integer getId();
  String getName();
  Double getPrice();
}
```

å‡è®¾è¯¥å­¦é™¢æä¾›å¤šç§è¯¾ç¨‹ï¼Œå¦‚ Java æ¶æ„ã€å¤§æ•°æ®ã€AIã€å‰ç«¯ã€æµ‹è¯•ç­‰ã€‚ä»¥ Java æ¶æ„è¯¾ç¨‹ä¸ºä¾‹ï¼Œåˆ›å»ºå…¶å®ç°ç±» `JavaCourse`ï¼š

```java
public class JavaCourse implements ICourse {
	private final Integer id;
	private final String name;
	private final Double price;
	
	public JavaCourse(Integer id, String name, Double price) {
		this.id = id;
		this.name = name;
		this.price = price;
	}
	
	@Override
	public Integer getId() {
		return id;
	}
	
	@Override
	public String getName() {
		return name;
	}
	
	@Override
	public Double getPrice() {
		return price;
	}
}
```

ç°åœ¨æˆ‘ä»¬å¸Œæœ›å¯¹ Java è¯¾ç¨‹åšé™æ—¶æŠ˜æ‰£ã€‚æœ‰äº›åˆå­¦è€…å¯èƒ½ä¼šç›´æ¥ä¿®æ”¹åŸæœ‰æ–¹æ³•ï¼š

```java hl:3
@Override
public Double getPrice() {
  return price * 0.6;
}
```

è¿™ç§åšæ³•è™½ç„¶ç®€å•ç›´æ¥ï¼Œä½†è¿åäº†**å¼€é—­åŸåˆ™**ã€‚å› ä¸º**ç›´æ¥ä¿®æ”¹å·²æœ‰ä»£ç ä¼šå¸¦æ¥ä¸å¯é¢„æœŸçš„å‰¯ä½œç”¨**ï¼Œå¯èƒ½å½±å“å…¶ä»–ä¾èµ–è¯¥ç±»çš„æ¨¡å—ï¼Œå°¤å…¶åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œç±»ä¹‹é—´å¾€å¾€å­˜åœ¨å¤æ‚çš„è€¦åˆå…³ç³»ã€‚

ğŸš€æ­£ç¡®åšæ³•æ˜¯ï¼š**ä¸æ”¹åŠ¨åŸç±»ï¼Œè€Œæ˜¯é€šè¿‡ç»§æ‰¿æ‰©å±•å…¶åŠŸèƒ½**ã€‚æˆ‘ä»¬å¯ä»¥æ–°å¢ä¸€ä¸ª `JavaDiscountCourse` ç±»ï¼Œç»§æ‰¿è‡ª `JavaCourse`ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ æŠ˜æ‰£é€»è¾‘ï¼š

```java hl:6-8
public class JavaDiscountCourse extends JavaCourse {
  public JavaDiscountCourse(final Integer id, final String name, final Double price) {
    super(id, name, price);
  }

  public Double getDiscountPrice() {
    return super.getPrice() * 0.6;
  }
}
```

è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä¸æ”¹åŠ¨åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œå®ç°äº†åŠŸèƒ½æ‰©å±•ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚

ğŸ¤” **æ€è€ƒå»¶ä¼¸**ï¼šä¸ºä½•ä¸è®¾è®¡ä¸€ä¸ªé€šç”¨æŠ˜æ‰£ç±»å¦‚ `DiscountCourse` å‘¢ï¼Ÿå› ä¸ºä¸åŒè¯¾ç¨‹å¯èƒ½æœ‰ä¸åŒçš„æŠ˜æ‰£ç­–ç•¥ï¼Œç»Ÿä¸€å¤„ç†åè€Œå¢åŠ è€¦åˆã€‚æ›´åˆç†çš„æ–¹å¼æ˜¯**æ¯ç§è¯¾ç¨‹æ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€è¦ç»§æ‰¿å¹¶æ‰©å±•**ï¼Œä¿æŒçµæ´»æ€§ã€‚

ç±»ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

```plantuml
@startuml

interface ICourse <<interface>> {
  + getName(): String
  + getPrice(): Double
  + getId(): Integer
}

class JavaCourse implements ICourse {
  - price: Double
  - id: Integer
  - name: String
  + getId(): Integer
  + getName(): String
  + getPrice(): Double
  + JavaCourse(Integer, String, Double): 
}

class JavaDiscountCourse extends JavaCourse {
  + getDiscountPrice(): Double
  + JavaDiscountCourse(Integer, String, Double): 
}
       
@enduml
```

## é‡Œæ°æ›¿æ¢åŸåˆ™

é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼ŒLSPï¼‰æŒ‡å‡ºï¼š**å‡¡æ˜¯çˆ¶ç±»èƒ½å¤Ÿå‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»å¿…é¡»èƒ½å¤Ÿé€æ˜åœ°æ›¿æ¢çˆ¶ç±»ï¼Œå¹¶ä¿è¯ç¨‹åºé€»è¾‘è¡Œä¸ºä¸å˜ï¼Œæ­£ç¡®æ€§ä¸è¢«ç ´åã€‚**

ç®€è€Œè¨€ä¹‹ï¼š**å­ç±»åº”å½“æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å…¶åŸæœ‰è¡Œä¸ºã€‚**

è¿™ä¸€åŸåˆ™å¯ä»¥ç»†åŒ–ä¸ºä»¥ä¸‹å‡ ç‚¹è¦æ±‚ï¼š

1. å­ç±»å¯ä»¥å®ç°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†**ä¸åº”é‡å†™æˆ–ç ´åçˆ¶ç±»çš„å·²æœ‰å®ç°é€»è¾‘**ï¼›
2. å­ç±»å¯ä»¥æ·»åŠ è‡ªèº«ç‰¹æœ‰çš„æ–¹æ³•ï¼›
3. å¦‚æœé‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œå…¶**è¾“å…¥å‚æ•°åº”æ›´å®½æ¾æˆ–ç›¸ç­‰**ï¼ˆå‰ç½®æ¡ä»¶å¼±åŒ–ï¼‰ï¼›
4. è¿”å›ç»“æœæˆ–è¡Œä¸ºåº”**æ›´ä¸¥æ ¼æˆ–ç­‰åŒäºçˆ¶ç±»çš„æœŸæœ›**ï¼ˆåç½®æ¡ä»¶åŠ å¼ºï¼‰ã€‚

éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™çš„å¥½å¤„åŒ…æ‹¬ï¼š

- é¿å…ç»§æ‰¿æ³›æ»¥å¸¦æ¥çš„é”™è¯¯è®¾è®¡ï¼›
- æ˜¯å®ç°[[#å¼€é—­åŸåˆ™]]çš„é‡è¦å‰æï¼›
- å¢å¼ºç¨‹åºçš„**å¥å£®æ€§ã€å¯ç»´æŠ¤æ€§ä¸æ‰©å±•æ€§**ï¼›
- é™ä½å› å­ç±»æ”¹åŠ¨å¼•å‘çš„é£é™©ã€‚

ä¸¾ä¸ªæ —å­ï¼š"æ­£æ–¹å½¢ä¸æ˜¯é•¿æ–¹å½¢" æ˜¯ä¸€ä¸ªç†è§£é‡Œæ°æ›¿æ¢åŸåˆ™çš„æœ€ç»å…¸çš„ä¾‹å­ã€‚åœ¨æ•°å­¦é¢†åŸŸä¸­ï¼Œ**æ­£æ–¹å½¢æ˜¯ä¸€ä¸ªé•¿å®½ç›¸ç­‰çš„ç‰¹æ®Šé•¿æ–¹å½¢**ï¼Œå› æ­¤æˆ‘ä»¬å¾€å¾€è‡ªç„¶åœ°è®© `Square` ç»§æ‰¿è‡ª `Rectangle`ã€‚ä½†åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­ï¼Œè¿™ç§åšæ³•å´å¯èƒ½è¿åé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚

é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ª `Rectangle` ç±»ï¼š

```java
public class Rectangle {
	private long length;
	private long width;

	public long getLength() {
		return length;
	}

	public void setLength(final long length) {
		this.length = length;
	}

	public long getWidth() {
		return width;
	}

	public void setWidth(final long width) {
		this.width = width;
	}
}
```

ç„¶åï¼Œå®šä¹‰ `Square` ç±»ç»§æ‰¿è‡ª `Rectangle`ï¼Œå¹¶å¼ºåˆ¶è¦æ±‚é•¿å®½ä¸€è‡´ï¼š

```java
public class Square extends Rectangle {
	@Override
	public void setWidth(final long width) {
		super.setWidth(width);
		super.setLength(width);
	}

	@Override
	public void setLength(final long length) {
		super.setWidth(length);
		super.setLength(length);
	}
}
```

åˆ›å»º `resize()` æ–¹æ³•ï¼Œç”¨äºæ¨¡æ‹Ÿé•¿æ–¹å½¢çš„å®½åº¦é€æ­¥é€’å¢ç›´è‡³è¶…è¿‡å…¶é•¿åº¦æ—¶ç»ˆæ­¢ï¼š

```java
class RectangleTest {
	public void resize(final Rectangle rectangle) {
		while (rectangle.getWidth() <= rectangle.getLength()) {
			rectangle.setWidth(rectangle.getWidth() + 1);
			System.out.println("length:" + rectangle.getLength() + ",width:" + rectangle.getWidth());
		}
	}

	@Test
	public void testRectangle() {
		final Rectangle rectangle = new Rectangle();
		rectangle.setLength(10);
		rectangle.setWidth(5);
		resize(rectangle);
	}
	
	@Test
	public void testSquare() {
		Square square = new Square();
		square.setLength(10);
		resize(square); // âŒ æ­»å¾ªç¯ï¼Œæœ€ç»ˆå †æ ˆæº¢å‡º
	}
}
```

- `resize()` æ–¹æ³•çš„æ ¸å¿ƒå‡è®¾æ˜¯ï¼š**é•¿åº¦ä¿æŒä¸å˜ï¼Œå®½åº¦é€’å¢ï¼Œç›´åˆ°è¶…è¿‡é•¿åº¦æ—¶ç»ˆæ­¢**ï¼›
- ä½†å¯¹äº `Square`ï¼Œ**è®¾ç½®å®½åº¦ä¼šåŒæ—¶ä¿®æ”¹é•¿åº¦**ï¼Œè¿èƒŒäº†è¿™ä¸€å‡è®¾ï¼Œå¯¼è‡´é€»è¾‘å¼‚å¸¸å¹¶å¼•å‘æ­»å¾ªç¯ã€‚

å°† `Square` ä¼ å…¥ `resize()` æ–¹æ³•ï¼Œ**ç ´åäº†ç¨‹åºå¯¹ `Rectangle` çš„æ­£å¸¸å‡è®¾**ï¼Œè¯´æ˜ `Square` æ— æ³•æ›¿ä»£ `Rectangle`ã€‚å› æ­¤ï¼š**åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­ï¼Œæ­£æ–¹å½¢ä¸æ˜¯é•¿æ–¹å½¢ã€‚**

è¿™ä¹Ÿå°è¯äº†é‡Œæ°æ›¿æ¢åŸåˆ™çš„æœ¬è´¨ï¼š**å­ç±»å¿…é¡»å®Œå…¨å…¼å®¹çˆ¶ç±»çš„è¡Œä¸ºè§„èŒƒï¼Œå¦åˆ™å°±ä¸åº”ç»§æ‰¿ã€‚**

## è¿ªç±³ç‰¹æ³•åˆ™

è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeterï¼ŒLODï¼‰ï¼Œä¹Ÿç§°æœ€å°‘çŸ¥é“åŸåˆ™ï¼ˆLeast Knowledge Principleï¼ŒLKPï¼‰ã€‚æ˜¯æŒ‡**ä¸€ä¸ªç±»å¯¹äºå…¶ä»–ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½** & **åªä¸ä½ çš„ç›´æ¥ "æœ‹å‹" äº¤æµï¼Œä¸è·Ÿ "é™Œç”Ÿäºº" è¯´è¯**ï¼ˆTalk only to your immediate friends and not to strangersï¼‰ã€‚

å…·ä½“æ¥è¯´ï¼š

- **å¦‚æœä¸¤ä¸ªå¯¹è±¡æ²¡æœ‰å¿…ç„¶çš„ç›´æ¥é€šä¿¡éœ€æ±‚ï¼Œå°±ä¸åº”å‘ç”Ÿè°ƒç”¨å…³ç³»**ï¼Œå¯ä»¥é€šè¿‡ä¸­ä»‹ï¼ˆå¦‚ç¬¬ä¸‰æ–¹å¯¹è±¡ï¼‰è¿›è¡Œè½¬å‘æˆ–åè°ƒã€‚
- **ç›®çš„æ˜¯é™ä½è€¦åˆåº¦ã€æé«˜æ¨¡å—çš„ç‹¬ç«‹æ€§å’Œç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§**ã€‚

åœ¨è¿ªç±³ç‰¹æ³•åˆ™ä¸­ï¼Œ**"æœ‹å‹" æŒ‡çš„æ˜¯ä¸å½“å‰å¯¹è±¡å­˜åœ¨è€¦åˆå…³ç³»ï¼ˆå¦‚ä¾èµ–ã€å…³è”ã€èšåˆæˆ–ç»„åˆï¼‰çš„å¯¹è±¡**ï¼š

- åŒ…æ‹¬**å‡ºç°åœ¨æˆå‘˜å˜é‡ã€æ–¹æ³•å‚æ•°æˆ–è¿”å›å€¼ä¸­çš„ç±»**ï¼›
- ä¸åŒ…æ‹¬**å‡ºç°åœ¨æ–¹æ³•å†…éƒ¨ä¸´æ—¶å˜é‡ä¸­çš„ç±»**ã€‚

ä¸¾ä¸ªæ —å­ï¼šæ˜æ˜Ÿç”±äºå…¨èº«å¿ƒæŠ•å…¥è‰ºæœ¯ï¼Œæ‰€ä»¥è®¸å¤šæ—¥å¸¸äº‹åŠ¡ç”±ç»çºªäººè´Ÿè´£å¤„ç†ï¼Œå¦‚ä¸ç²‰ä¸çš„è§é¢ä¼šï¼Œä¸åª’ä½“å…¬å¸çš„ä¸šåŠ¡æ´½è°ˆç­‰ã€‚è¿™é‡Œçš„ç»çºªäººå°±æ˜¯æ˜æ˜Ÿçš„æœ‹å‹ï¼Œè€Œç²‰ä¸å’Œåª’ä½“å…¬å¸å°±æ˜¯é™Œç”Ÿäººï¼Œæ‰€ä»¥é€‚åˆä½¿ç”¨è¿ªç±³ç‰¹æ³•åˆ™ã€‚å…¶ç±»ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

```plantuml
@startuml

class Agent {
  - company: Company
  - fans: Fans
  - star: Star
  + setStar(Star)
  + meeting()
  + setFans(Fans)
  + business()
  + setCompany(Company)
}

class Company {
  - name: String
  + getName(): String
}

class Fans {
  - name: String
  + getName(): String
}

class Star {
  - name: String
  + getName(): String
}

Agent --> Company 
Agent --> Fans    
Agent --> Star    

@enduml
```

å…·ä½“ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š

```java file:Star
public class Star {
	private final String name;

	public Star(final String name) {
		this.name = name;
	}

	public String getName() {
		return name;
	}
}
```

```java file:Fans
public class Fans {
  private final String name;

  public Fans(final String name) {
    this.name = name;
  }

  public String getName() {
    return name;
  }
}
```

```java file:Company
public class Company {
  private final String name;

  public Company(final String name) {
    this.name = name;
  }

  public String getName() {
    return name;
  }
}
```

```java file:Agent
public class Agent {
  private Star star;
  private Fans fans;
  private Company company;

  public void setStar(final Star star) {
    this.star = star;
  }

  public void setFans(final Fans fans) {
    this.fans = fans;
  }

  public void setCompany(final Company company) {
    this.company = company;
  }

  public void meeting() {
    System.out.println(this.fans.getName() + "ä¸æ˜æ˜Ÿ" + this.star.getName() + "è§é¢äº†ï¼");
  }

  public void business() {
    System.out.println(this.company.getName() + "ä¸æ˜æ˜Ÿ" + this.star.getName() + "æ´½æ·¡ä¸šåŠ¡ï¼");
  }
}
```

```java file:AgentTest
class AgentTest {
  @Test
  public void test() {
    Star star = new Star("åˆ˜äº¦è²");
    Fans fans = new Fans("å°è®©");
    Company company = new Company("ä¸­å›½ä¼ åª’æœ‰é™å…¬å¸");
    Agent agent = new Agent();
    agent.setStar(star);
    agent.setFans(fans);
    agent.setCompany(company);
    agent.meeting();
    agent.business();
  }
}
```

## æ¥å£éš”ç¦»åŸåˆ™

æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼ŒISPï¼‰å¼ºè°ƒï¼š**åº”å°†æ¥å£æ‹†åˆ†ä¸ºå¤šä¸ªä¸“ç”¨æ¥å£ï¼Œé¿å…è®©å®¢æˆ·ç«¯ä¾èµ–å®ƒä¸éœ€è¦çš„åŠŸèƒ½**ã€‚åœ¨æ¥å£è®¾è®¡ä¸­åº”éµå¾ªä»¥ä¸‹å‡ ç‚¹ï¼š

- ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¹‹ä¸Šï¼›
- æ¥å£åº”èŒè´£å•ä¸€ï¼Œé¿å…è®¾è®¡æˆè‡ƒè‚¿çš„å¤§æ¥å£ï¼›
- æ¥å£æ–¹æ³•åº”ç²¾ç‚¼ã€æ˜ç¡®ï¼Œåšåˆ°é€‚åº¦æ‹†åˆ†ï¼Œé¿å…è¿‡ç»†å¯¼è‡´ç»“æ„å¤æ‚ã€‚

è™½ç„¶æ¥å£éš”ç¦»åŸåˆ™ä¸[[#å•ä¸€èŒè´£åŸåˆ™]]éƒ½å¼ºè°ƒ "**é«˜å†…èšã€ä½è€¦åˆ**"ï¼Œä½†ä¸¤è€…çš„ä¾§é‡ç‚¹ä¸åŒï¼š

- **å•ä¸€èŒè´£åŸåˆ™**å…³æ³¨çš„æ˜¯ç±»çš„èŒè´£åˆ’åˆ†ï¼Œçº¦æŸçš„æ˜¯ç±»çš„å®ç°ï¼›
- **æ¥å£éš”ç¦»åŸåˆ™**å…³æ³¨çš„æ˜¯æ¥å£çš„ç²’åº¦æ§åˆ¶ï¼Œçº¦æŸçš„æ˜¯æŠ½è±¡å±‚ä¸è°ƒç”¨æ–¹çš„ä¾èµ–å…³ç³»ã€‚

è‰¯å¥½çš„æ¥å£æ‹†åˆ†æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚åœ¨æ¥å£è®¾è®¡é˜¶æ®µï¼Œåº”æ·±å…¥ç†è§£ä¸šåŠ¡æ¨¡å‹ï¼Œå¹¶æå‰è€ƒè™‘æœªæ¥å¯èƒ½çš„æ¼”è¿›æ–¹å‘ï¼Œä»¥ä¾¿æ›´åˆç†åœ°ç»„ç»‡æŠ½è±¡èƒ½åŠ›ã€‚

ä¸¾ä¸ªæ —å­ï¼šä»¥å…¬æœ‰äº‘å­˜å‚¨ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ¥å£ `CloudService`ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰å¯èƒ½æ¶‰åŠçš„å­˜å‚¨æ“ä½œæ–¹æ³•ã€‚åº•å±‚å®ç°åˆ†åˆ«ä¸ºé˜¿é‡Œäº‘ï¼ˆ`AlibabaCloud`ï¼‰å’Œè…¾è®¯äº‘ï¼ˆ`TencentCloud`ï¼‰ã€‚ç„¶è€Œï¼Œè…¾è®¯äº‘çš„ SDK ä»…æ”¯æŒæ–‡ä»¶çš„å­˜å‚¨ä¸ä¸‹è½½åŠŸèƒ½ï¼Œæ— æ³•å®ç°æ¥å£ä¸­çš„å…¶ä»–æ–¹æ³•ã€‚ä¸ºæ»¡è¶³æ¥å£è¦æ±‚ï¼Œåªèƒ½åœ¨ `TencentCloud` ä¸­å®ç°å¤§é‡ç©ºæ–¹æ³•ï¼Œå¯¼è‡´æ¥å£"åå­˜å®äº¡"ï¼Œè¿èƒŒäº†æ¥å£éš”ç¦»åŸåˆ™ã€‚ç¤ºæ„å¦‚ä¸‹ï¼š

```plantuml
@startuml

interface CloudService <<interface>> {
  + storeFile()
  + downloadFile()
  + createBucket()
  + deleteBucket()
  + getCDNAddress(): String
}

class TencentCloud implements CloudService {
	+ storeFile()
  + downloadFile()
}

class AlibabaCloud implements CloudService {
	+ storeFile()
  + downloadFile()
  + createBucket()
  + deleteBucket()
  + getCDNAddress(): String
}

note left of TencentCloud
  è…¾è®¯äº‘ SDK å¹¶ä¸æ”¯æŒæ‰€æœ‰æ–¹æ³•ï¼Œå¯¼è‡´æ— æ³•å®Œæ•´å®ç°æ¥å£
end note

@enduml
```

ğŸš€æ›´åˆç†çš„åšæ³•æ˜¯å°† `CloudService` æ‹†åˆ†ä¸ºå¤šä¸ªèŒè´£æ˜ç¡®çš„æ¥å£ï¼Œå®¢æˆ·ç«¯å¯æŒ‰éœ€å®ç°ï¼Œé¿å…ä¸å¿…è¦çš„ä¾èµ–ï¼š

```plantuml
@startuml

interface CloudHostingService <<interface>> {
  + getCDNAddress(): String
}

interface CloudBucketService <<interface>> {
  + createBucket()
  + deleteBucket()
}

interface CloudStorageService <<interface>> {
  + storeFile()
  + downloadFile()
}

class TencentCloud implements CloudStorageService {
	+ storeFile()
  + downloadFile()
}

class AlibabaCloud implements CloudHostingService,CloudBucketService,CloudStorageService {
	+ storeFile()
  + downloadFile()
  + createBucket()
  + deleteBucket()
  + getCDNAddress(): String
}

@enduml
```

æ‹†åˆ†ä¹‹åçš„ä¼˜åŠ¿ï¼š

- **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªæ¥å£ä»…åŒ…å«ä¸€ç±»èƒ½åŠ›ï¼›
- **ä¾èµ–æœ€å°**ï¼šå®ç°ç±»åªéœ€å…³æ³¨è‡ªå·±å…·å¤‡çš„åŠŸèƒ½ï¼›
- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢èƒ½åŠ›å¯é€šè¿‡æ–°æ¥å£æ‰©å±•ï¼Œäº’ä¸å½±å“ï¼›
- **é¿å…å†—ä½™**ï¼šæ— é¡»å®ç°ç©ºæ–¹æ³•æˆ–æ— æ•ˆé€»è¾‘ã€‚

> [!note]
> **æ¥å£çš„æ‹†åˆ†åº”ä¿æŒåˆç†ç²’åº¦ï¼Œè¿‡åº¦ç»†åŒ–å¯èƒ½åè€Œå¯¼è‡´ä»£ç å¤æ‚ã€éš¾ä»¥ç»´æŠ¤**ï¼Œåº”åœ¨çµæ´»æ€§ä¸å¤æ‚åº¦ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚

## ä¾èµ–å€’ç½®åŸåˆ™

ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼ŒDIPï¼‰å¼ºè°ƒï¼š**é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”ä¾èµ–äºæŠ½è±¡ï¼›æŠ½è±¡ä¸åº”ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–æŠ½è±¡**ï¼ˆHigh-level modules should not depend on low-level modules.Both should depend on abstractions.Abstractions should not depend on details.Details should depend on abstractionsï¼‰ã€‚

> [!important]
>
> æ ¸å¿ƒæ€æƒ³ï¼š<strong style="color:#ae3520;font-size:19px">é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œéé¢å‘å®ç°ç¼–ç¨‹ï¼</strong>

é€šè¿‡ä¾èµ–å€’ç½®ï¼Œå¯ä»¥é™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ã€å¯ç»´æŠ¤æ€§ä¸å¯æ‰©å±•æ€§ã€‚**ä»¥æŠ½è±¡ä¸ºåŸºå‡†æ„å»ºç³»ç»Ÿ**ï¼Œæ¯”ä¾èµ–å…·ä½“ç»†èŠ‚æ›´ç¨³å®šå¯é ã€‚å› æ­¤åœ¨è®¾è®¡ä»£ç ç»“æ„æ—¶ï¼Œåº”**å…ˆå®šä¹‰é¡¶å±‚æ¥å£æ¡†æ¶ï¼Œå†å®ç°å…·ä½“ç»†èŠ‚**ã€‚

ä¸¾ä¸ªæ —å­ï¼šå‡è®¾ç°åœ¨æˆ‘ä»¬è¦ç»„è£…ä¸€å°ç”µè„‘ï¼Œåˆå§‹é…ç½®ä¸º Intel çš„ CPU å’Œå†…å­˜æ¡ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java file:InterCPU
public class InterCPU {
	public void calculate() {
		System.out.println("Intel CPU æ­£åœ¨è¿è¡Œä¸­...");
	}
}
```

```java file:InterMemory
public class InterMemory {
	public void store() {
		System.out.println("Intel å†…å­˜æ¡æ­£åœ¨å­˜å‚¨æ•°æ®ä¸­...");
	}
}
```

```java file:Computer hl:2-3
public class Computer {
  private final InterCPU interCPU;
  private final InterMemory interMemory;

  public Computer(InterCPU interCPU, InterMemory interMemory) {
    this.interCPU = interCPU;
    this.interMemory = interMemory;
  }

  public void run() {
    interCPU.calculate();
    interMemory.store();
  }
}
```

```java file:ComputerTest
class ComputerTest {
  @Test
  public void test() {
    InterCPU interCPU = new InterCPU();
    InterMemory interMemory = new InterMemory();
    Computer computer = new Computer(interCPU, interMemory);
    computer.run();
  }
}
```

å½“é¢„ç®—ç´§å¼ ï¼Œæƒ³å°†é…ç½®ä» Intel æ¢æˆ AMD æ—¶ï¼Œç”±äº `Computer` ç±»ç›´æ¥ä¾èµ–äºå…·ä½“çš„ Intel å®ç°ï¼Œå¿…é¡»**ä¿®æ”¹å·²æœ‰ä»£ç **æ‰èƒ½æ”¯æŒæ–°å®ç°ï¼Œè¿™è¿åäº†[[#å¼€é—­åŸåˆ™]]ï¼ˆç±»åº”è¯¥**å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³é—­**ï¼‰ã€‚

ğŸš€æ­£ç¡®çš„åšæ³•æ˜¯ï¼š**å®šä¹‰æŠ½è±¡æ¥å£ï¼Œè®© `Computer` ä¾èµ–æ¥å£è€Œä¸æ˜¯å…·ä½“å®ç°**ï¼Œä»¥å®ç°çµæ´»çš„æ›¿æ¢ä¸æ‰©å±•ã€‚

æˆ‘ä»¬å…ˆå®šä¹‰ `CPU` å’Œ `Memory` ä¸¤ä¸ªæ¥å£ï¼Œå¹¶è®© Intel å’Œ AMD å„è‡ªå®ç°ï¼š

```java file:CPU
public interface CPU {
  void calculate();
}
```

```java file:Memory
public interface Memory {
  void store();
}
```

```java file:IntelCPU
public class InterCPU implements CPU {
  @Override
  public void calculate() {
    System.out.println("Intel CPU æ­£åœ¨è¿è¡Œä¸­...");
  }
}
```

```java file:IntelMemory
public class InterMemory implements Memory {
  @Override
  public void store() {
    System.out.println("Intel å†…å­˜æ¡æ­£åœ¨å­˜å‚¨æ•°æ®ä¸­...");
  }
}
```

```java file:AMDCPU
public class AMDCPU implements CPU {
  @Override
  public void calculate() {
    System.out.println("AMD CPU æ­£åœ¨è¿è¡Œä¸­...");
  }
}
```

```java file:AMDMemory
public class AMDMemory implements Memory {
  @Override
  public void store() {
    System.out.println("AMD å†…å­˜æ¡æ­£åœ¨å­˜å‚¨æ•°æ®ä¸­...");
  }
}
```

```java file:Computer hl:2-3
public class Computer {
  private final CPU cpu;
  private final Memory memory;

  public Computer(final CPU cpu, final Memory memory) {
    this.cpu = cpu;
    this.memory = memory;
  }

  public void run() {
    cpu.calculate();
    memory.store();
  }
}
```

```java file:ComputerTest
class ComputerTest {
  @Test
  public void testIntelConfig() {
    InterCPU interCPU = new InterCPU();
    InterMemory interMemory = new InterMemory();
    Computer computer = new Computer(interCPU, interMemory);
    computer.run();
  }

  @Test
  public void testAMDConfig() {
    AMDCPU amdCPU = new AMDCPU();
    AMDMemory amdMemory = new AMDMemory();
    Computer computer = new Computer(amdCPU, amdMemory);
    computer.run();
  }
}
```

ç°åœ¨æˆ‘ä»¬æ— éœ€ä¿®æ”¹ `Computer` ç±»ï¼Œåªéœ€ä¼ å…¥ä¸åŒå“ç‰Œçš„å®ç°å³å¯å®Œæˆé…ç½®åˆ‡æ¢ï¼Œç¬¦åˆ**å¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰**ï¼Œä¹Ÿæ»¡è¶³**ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆä¾èµ–æŠ½è±¡è€Œéç»†èŠ‚ï¼‰**ã€‚

ç±»ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š

```plantuml
@startuml

interface CPU <<interface>> {
  + calculate()
}

class InterCPU implements CPU {
  + calculate()
}

class AMDCPU implements CPU {
  + calculate()
}

interface Memory <<interface>> {
  + store()
}

class InterMemory implements Memory {
  + store()
}

class AMDMemory implements Memory {
  + store() 
}

class Computer {
  - cpu: CPU
  - memory: Memory
  + run()
  + Computer(CPU, Memory): 
}
         
Computer --> CPU         
Computer --> Memory

@enduml

```

## åˆæˆå¤ç”¨åŸåˆ™

åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰å¼ºè°ƒï¼š**åº”å°½é‡ä½¿ç”¨å¯¹è±¡[[UML ç±»å›¾#ç»„åˆå…³ç³»|ç»„åˆ]]ï¼ˆcontains-aï¼‰æˆ–[[UML ç±»å›¾#èšåˆå…³ç³»|èšåˆ]]ï¼ˆhas-aï¼‰**ï¼Œ**è€Œä¸æ˜¯ [[UML ç±»å›¾#æ³›åŒ–å…³ç³»|ç»§æ‰¿]]ï¼ˆis-aï¼‰å…³ç³»** æ¥å®ç°ä»£ç å¤ç”¨ã€‚

> [!important]
>
> <strong style="color:#ae3520;font-size:19px">å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼</strong>

ç±»çš„å¤ç”¨æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š**ç»§æ‰¿å¤ç”¨**å’Œ**ç»„åˆå¤ç”¨**ã€‚

ç»§æ‰¿è™½ç„¶å®ç°ç®€å•ï¼Œä½†å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š

- **ç ´åå°è£…æ€§**ï¼š**ç»§æ‰¿ä¼šå°†çˆ¶ç±»çš„å®ç°ç»†èŠ‚æš´éœ²ç»™å­ç±»ï¼Œçˆ¶ç±»å¯¹å­ç±»æ¥è¯´æ˜¯é€æ˜çš„**ï¼Œå› æ­¤ç»§æ‰¿ä¹Ÿè¢«ç§°ä¸º "ç™½ç®±å¤ç”¨"ã€‚
- **è€¦åˆåº¦é«˜**ï¼šçˆ¶ç±»å˜åŠ¨ä¼šå½±å“æ‰€æœ‰å­ç±»ï¼Œä¸åˆ©äºæ‰©å±•å’Œç»´æŠ¤ã€‚
- **çµæ´»æ€§å·®**ï¼šç»§æ‰¿å…³ç³»åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œè¿è¡Œæ—¶æ— æ³•åŠ¨æ€æ›¿æ¢ã€‚

è€Œç»„åˆï¼ˆèšåˆï¼‰å¤ç”¨æ–¹å¼é€šè¿‡å°†å·²æœ‰å¯¹è±¡ä½œä¸ºæˆå‘˜çº³å…¥æ–°ç±»ä¸­ï¼Œå¯å¸¦æ¥æ›´å¤šä¼˜åŠ¿ï¼š

- **å°è£…æ€§æ›´å¥½**ï¼šæˆå‘˜å¯¹è±¡å¯¹å¤–æ˜¯ "é»‘ç®±"ï¼Œä¸æš´éœ²å†…éƒ¨å®ç°ã€‚
- **è€¦åˆæ›´ä½**ï¼šé€šè¿‡ä¾èµ–æŠ½è±¡ï¼ˆæ¥å£æˆ–æŠ½è±¡ç±»ï¼‰ï¼Œæˆå‘˜å¯¹è±¡å˜åŠ¨ä¸ä¼šå½±å“æ•´ä½“ç»“æ„ã€‚
- **æ›´çµæ´»**ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ›¿æ¢æˆ–é…ç½®ç»„åˆå¯¹è±¡ã€‚

ä¸¾ä¸ªæ —å­ï¼šä»¥æ±½è½¦åˆ†ç±»ä¸ºä¾‹ï¼ŒæŒ‰åŠ¨åŠ›å¯åˆ†ä¸ºæ±½æ²¹è½¦ã€ç”µåŠ¨è½¦ï¼ŒæŒ‰é¢œè‰²å¯åˆ†ä¸ºç™½è‰²ã€é»‘è‰²ã€‚å¦‚æœç”¨ç»§æ‰¿æ–¹å¼ç»„åˆè¿™ä¸¤ä¸ªç»´åº¦ï¼Œä¼šäº§ç”Ÿå¤§é‡å­ç±»ï¼š

```plantuml
@startuml

class Car {
	+ move()
}

class GasolineCar extends Car {
	+ move()
}

class ElecricCar extends Car {
	+ move()
}

class WhiteGasolineCar extends GasolineCar {
	+ move()
}

class BlackGasolineCar extends GasolineCar {
	+ move()
}

class WhiteElecricCar extends ElecricCar {
	+ move()
}

class BlackElecricCar extends ElecricCar {
	+ move()
}

@enduml
```

å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯å¢åŠ ä¸€ç§é¢œè‰²æˆ–åŠ¨åŠ›ç±»å‹ï¼Œéƒ½ä¼šå¯¼è‡´å­ç±»çˆ†ç‚¸å¼å¢é•¿ï¼Œæ‰©å±•æ€§æå·®ã€‚

ğŸš€æ”¹è¿›æ–¹æ¡ˆï¼šæˆ‘ä»¬å¯ä»¥å°†**åŠ¨åŠ›ç±»å‹**å’Œ**é¢œè‰²**æŠ½è±¡ä¸ºæ¥å£ï¼Œä½¿ç”¨**ç»„åˆï¼ˆèšåˆï¼‰**æ–¹å¼æ³¨å…¥ï¼Œé¿å…å­ç±»è†¨èƒ€ï¼š

```plantuml
@startuml

interface Energy {}

class Gasoline implements Energy {}

class Electric implements Energy {}

interface Color {}

class White implements Color {}

class Black implements Color {}

class Car {
	- energy: Energy
	- color: Color
	+ move()
}

Car o--> Energy
Car o--> Color

@enduml
```

é€šè¿‡ç»„åˆä¸åŒçš„ `Energy` å’Œ `Color` å®ç°ç±»ï¼Œå°±å¯ä»¥çµæ´»æ„é€ å„ç§æ±½è½¦å®ä¾‹ï¼Œæ–°å¢åˆ†ç±»ä¹Ÿæ— éœ€ä¿®æ”¹åŸæœ‰ç»“æ„ï¼Œç¬¦åˆ[[#å¼€é—­åŸåˆ™]]ã€‚
