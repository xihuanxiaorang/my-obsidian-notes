---
tags:
  - LeetCode
  - Algorithm
level: MEDIUM
categories:
  - 链表
  - 快慢指针
create_time: 2025/08/16 22:18
update_time: 2025/08/27 21:42
---

## 题目描述

给你一个链表，删除链表的倒数第 `n` 个结点，并且返回链表的头结点。

**示例 1：**

![](https://img.xiaorang.fun/202508261913887.png)

```text
输入：head = [1,2,3,4,5], n = 2
输出：[1,2,3,5]
```

**示例 2：**

```text
输入：head = [1], n = 1
输出：[]
```

**示例 3：**

```text
输入：head = [1,2], n = 1
输出：[1]
```

**提示：**

- 链表中结点的数目为 `sz`
- `1 <= sz <= 30`
- `0 <= Node.val <= 100`
- `1 <= n <= sz`

**进阶：**
你能尝试使用一趟扫描实现吗？

## 解法

### 方法一：快慢指针

#### 解题思路

1. 创建虚拟头节点 `dummyHead` 指向链表头节点，，这样即使是删除头节点也能统一处理。
2. 初始化指针：`slow` 指向虚拟头节点，`fast` 指向链表头节点；这样在完成后续步骤后，`slow` 最终会停在待删除节点的前驱位置。
3. 先让 `fast` 前进 `n` 步，保证与 `slow` 保持 `n` 个节点的间距。
4. 然后同时移动 `slow` 和 `fast`，直至 `fast` 到达链表末尾，此时 `slow` 正好指向待删除节点的前驱节点。
5. 通过修改 `slow.next` 指针跳过目标节点，即可完成删除操作。
6. 返回 `dummyHead.next` 作为新的链表头节点，确保在删除头节点时也能正确返回结果。

![[LeetCode 19.删除链表的倒数第 N 个结点|800]]

#### 代码实现

```java
class Solution {  
  /**  
   * 删除链表的倒数第 N 个结点。  
   *  
   * @param head 链表头节点  
   * @param n    要删除的倒数第 n 个结点  
   * @return 修改后的链表头节点  
   */  
  public ListNode removeNthFromEnd(ListNode head, int n) {  
    // 创建一个虚拟头节点，其next指向原始链表的头节点。  
    // 使用虚拟头节点可以简化边界条件处理，例如当需要删除的是链表的第一个节点时。  
    ListNode dummyHead = new ListNode(-1, head);  
    // 初始化两个指针，slow和fast。slow从虚拟头节点开始，而fast则从真正的头节点开始。  
    // 这样做的目的是让fast先走n步，之后再同时移动slow和fast，直到fast到达链表末尾。  
    // 当fast到达链表末尾时，slow正好位于要删除节点的前一个位置。  
    ListNode slow = dummyHead, fast = head;  
    // 让fast指针先行移动n步。这样做的目的是在fast和slow之间制造出n个节点的距离。  
    for (int i = 0; i < n; i++) {  
      fast = fast.next;  
    }  
    // 当fast不为空时，继续移动slow和fast指针。这一步确保了即使链表长度恰好为n，  
    // 我们也能正确地找到要删除节点的前一个节点（即slow）。  
    while (fast != null) {  
      slow = slow.next;  // 移动slow指针  
      fast = fast.next;  // 移动fast指针  
    }  
    // 此时，slow指针正好位于要删除节点的前一个位置。通过将slow的next指针直接跳过下一个节点，  
    // 我们就实现了删除目标节点的操作。  
    slow.next = slow.next.next;  
    // 返回修改后的新链表头节点，即dummyHead的next节点。  
    // 注意：这里返回的是dummyHead.next而不是head，因为如果删除的是原链表的第一个节点，则head已不再是新的链表头。  
    return dummyHead.next;  
  }  
}
```
